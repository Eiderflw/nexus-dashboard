{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/FileUpload.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Upload, CheckCircle, AlertCircle, Loader2 } from 'lucide-react';\r\nimport { parseExcel } from '@/lib/excel-parser';\r\nimport { useCreatorStore } from '@/store/useCreatorStore';\r\n\r\nexport default function FileUpload() {\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [success, setSuccess] = useState(false);\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const { setCreators } = useCreatorStore();\r\n\r\n    const handleFile = async (file: File) => {\r\n        setError(null);\r\n        setSuccess(false);\r\n        setIsProcessing(true);\r\n\r\n        if (!file.name.endsWith('.xlsx') && !file.name.endsWith('.xls')) {\r\n            alert('Solo se permiten archivos Excel (.xlsx, .xls)');\r\n            setIsProcessing(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Emulate progress\r\n            await new Promise(r => setTimeout(r, 500));\r\n\r\n            const creators = await parseExcel(file, () => { });\r\n\r\n            // Auto-save to History\r\n            try {\r\n                await fetch('/api/history', {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ creators })\r\n                });\r\n            } catch (histErr) {\r\n                console.error('Failed to save history:', histErr);\r\n            }\r\n\r\n            setSuccess(true);\r\n\r\n            // Delay navigation/update\r\n            setTimeout(() => {\r\n                setCreators(creators);\r\n                setSuccess(false); // Reset state\r\n            }, 1000);\r\n        } catch (err: any) {\r\n            console.error(err);\r\n            alert(err.message || 'Error al procesar el archivo.');\r\n            setError(err.message);\r\n        } finally {\r\n            setIsProcessing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <input\r\n                type=\"file\"\r\n                id=\"file-upload\"\r\n                className=\"hidden\"\r\n                accept=\".xlsx,.xls\"\r\n                onChange={(e) => e.target.files?.[0] && handleFile(e.target.files[0])}\r\n            />\r\n            <button\r\n                onClick={() => document.getElementById('file-upload')?.click()}\r\n                disabled={isProcessing}\r\n                className={`\r\n                    flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold transition-all border\r\n                    ${success\r\n                        ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20'\r\n                        : error\r\n                            ? 'bg-rose-500/10 text-rose-400 border-rose-500/20'\r\n                            : 'bg-slate-800 hover:bg-slate-700 text-slate-300 border-slate-700'\r\n                    }\r\n                `}\r\n            >\r\n                {isProcessing ? (\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : success ? (\r\n                    <CheckCircle className=\"w-4 h-4\" />\r\n                ) : error ? (\r\n                    <AlertCircle className=\"w-4 h-4\" />\r\n                ) : (\r\n                    <Upload className=\"w-4 h-4\" />\r\n                )}\r\n\r\n                {isProcessing ? 'Procesando...' : success ? '¡Carga Exitosa!' : 'Cargar Reporte'}\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+LAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+LAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+LAAQ,EAAC;IACjD,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,oKAAe;IAEvC,MAAM,aAAa,OAAO;QACtB,SAAS;QACT,WAAW;QACX,gBAAgB;QAEhB,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS;YAC7D,MAAM;YACN,gBAAgB;YAChB;QACJ;QAEA,IAAI;YACA,mBAAmB;YACnB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;YAErC,MAAM,WAAW,MAAM,IAAA,6JAAU,EAAC,MAAM,KAAQ;YAEhD,uBAAuB;YACvB,IAAI;gBACA,MAAM,MAAM,gBAAgB;oBACxB,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE;oBAAS;gBACpC;YACJ,EAAE,OAAO,SAAS;gBACd,QAAQ,KAAK,CAAC,2BAA2B;YAC7C;YAEA,WAAW;YAEX,0BAA0B;YAC1B,WAAW;gBACP,YAAY;gBACZ,WAAW,QAAQ,cAAc;YACrC,GAAG;QACP,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC;YACd,MAAM,IAAI,OAAO,IAAI;YACrB,SAAS,IAAI,OAAO;QACxB,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,qBACI,mNAAC;;0BACG,mNAAC;gBACG,MAAK;gBACL,IAAG;gBACH,WAAU;gBACV,QAAO;gBACP,UAAU,CAAC,IAAM,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;;;;;;0BAExE,mNAAC;gBACG,SAAS,IAAM,SAAS,cAAc,CAAC,gBAAgB;gBACvD,UAAU;gBACV,WAAW,CAAC;;oBAER,EAAE,UACI,6DACA,QACI,oDACA,kEACT;gBACL,CAAC;;oBAEA,6BACG,mNAAC,qPAAO;wBAAC,WAAU;;;;;+BACnB,wBACA,mNAAC,mQAAW;wBAAC,WAAU;;;;;+BACvB,sBACA,mNAAC,4PAAW;wBAAC,WAAU;;;;;6CAEvB,mNAAC,yOAAM;wBAAC,WAAU;;;;;;oBAGrB,eAAe,kBAAkB,UAAU,oBAAoB;;;;;;;;;;;;;AAIhF;GAtFwB;;QAII,oKAAe;;;KAJnB"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/BackgroundParticles.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\n\r\nexport default function BackgroundParticles() {\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        if (!ctx) return;\r\n\r\n        let animationFrameId: number;\r\n        let width = window.innerWidth;\r\n        let height = window.innerHeight;\r\n\r\n        // --- Nebula Configuration ---\r\n        let particles: Particle[] = [];\r\n        const PARTICLE_COUNT = 100; // Increased count\r\n        const CONNECTION_DISTANCE = 180;\r\n\r\n        // --- Matrix Configuration ---\r\n        const fontSize = 16;\r\n        const columns = Math.ceil(width / fontSize);\r\n        const drops: number[] = []; // Array of y positions for each column\r\n        // Initialize drops\r\n        for (let i = 0; i < columns; i++) {\r\n            drops[i] = Math.random() * -100; // Start above screen randomly\r\n        }\r\n        const matrixChars = \"01アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン\";\r\n\r\n        class Particle {\r\n            x: number;\r\n            y: number;\r\n            vx: number;\r\n            vy: number;\r\n            size: number;\r\n            color: string;\r\n\r\n            constructor() {\r\n                this.x = Math.random() * width;\r\n                this.y = Math.random() * height;\r\n                this.vx = (Math.random() - 0.5) * 0.5; // Slightly faster\r\n                this.vy = (Math.random() - 0.5) * 0.5;\r\n                this.size = Math.random() * 3 + 1; // Larger particles\r\n                // Brighter neon colors\r\n                const colors = ['#34d399', '#22d3ee', '#a78bfa', '#f472b6'];\r\n                this.color = colors[Math.floor(Math.random() * colors.length)];\r\n            }\r\n\r\n            update() {\r\n                this.x += this.vx;\r\n                this.y += this.vy;\r\n\r\n                // Bounce off edges\r\n                if (this.x < 0 || this.x > width) this.vx *= -1;\r\n                if (this.y < 0 || this.y > height) this.vy *= -1;\r\n            }\r\n\r\n            draw() {\r\n                if (!ctx) return;\r\n                ctx.beginPath();\r\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n                ctx.fillStyle = this.color;\r\n                ctx.shadowBlur = 10;\r\n                ctx.shadowColor = this.color;\r\n                ctx.fill();\r\n                ctx.shadowBlur = 0;\r\n            }\r\n        }\r\n\r\n        const init = () => {\r\n            width = window.innerWidth;\r\n            height = window.innerHeight;\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n\r\n            // Re-init particles\r\n            particles = [];\r\n            for (let i = 0; i < PARTICLE_COUNT; i++) {\r\n                particles.push(new Particle());\r\n            }\r\n\r\n            // Re-init matrix drops\r\n            const newColumns = Math.ceil(width / fontSize);\r\n            // Preserve existing drops if possible, extend if wider\r\n            for (let i = 0; i < newColumns; i++) {\r\n                if (drops[i] === undefined) {\r\n                    drops[i] = Math.random() * -100;\r\n                }\r\n            }\r\n        };\r\n\r\n        const animate = () => {\r\n            if (!ctx) return;\r\n\r\n            // Clear with slight fade for trail effect (Matrix style)\r\n            // But we need to be careful not to smear the nebula too much.\r\n            // Using a darker clear for Matrix, standard clear for Nebula might be tricky on one canvas.\r\n            // Solution: Draw Matrix first with fade, then Nebula on top.\r\n\r\n            ctx.fillStyle = 'rgba(2, 6, 23, 0.05)'; // Slate-950 with opacity for trail\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            // --- Draw Matrix Rain ---\r\n            ctx.font = `${fontSize}px monospace`;\r\n\r\n            for (let i = 0; i < drops.length; i++) {\r\n                // Random character\r\n                const text = matrixChars.charAt(Math.floor(Math.random() * matrixChars.length));\r\n\r\n                // Random brightness flicker\r\n                const isBright = Math.random() > 0.98;\r\n                ctx.fillStyle = isBright ? '#ffffff' : '#0ea5e9'; // White flash or Cyan rain (Sci-Fi)\r\n\r\n                // Only draw some characters to avoid overwhelming\r\n                if (Math.random() > 0.5) {\r\n                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);\r\n                }\r\n\r\n                // Reset drop to top randomly after it crosses screen\r\n                if (drops[i] * fontSize > height && Math.random() > 0.975) {\r\n                    drops[i] = 0;\r\n                }\r\n\r\n                // Move drop down\r\n                drops[i]++;\r\n            }\r\n\r\n            // --- Draw Nebula/DNA ---\r\n            // We want the nebula to be cleaner, so we might need to redraw dots without trails if possible,\r\n            // but the fade rect above affects everything. \r\n            // The fade rect actually creates the Matrix trail. The particles will also trail.\r\n            // Let's see if that looks cool (DNA tracers). If not, we'd need two canvases.\r\n            // For now, let's keep it simple. DNA tracers might look like \"movement\".\r\n\r\n            particles.forEach((p1, i) => {\r\n                p1.update();\r\n                p1.draw();\r\n\r\n                for (let j = i + 1; j < particles.length; j++) {\r\n                    const p2 = particles[j];\r\n                    const dx = p1.x - p2.x;\r\n                    const dy = p1.y - p2.y;\r\n                    const distance = Math.sqrt(dx * dx + dy * dy);\r\n\r\n                    if (distance < CONNECTION_DISTANCE) {\r\n                        ctx.beginPath();\r\n                        // Cyan/Purple gradient lines\r\n                        const gradient = ctx.createLinearGradient(p1.x, p1.y, p2.x, p2.y);\r\n                        gradient.addColorStop(0, p1.color);\r\n                        gradient.addColorStop(1, p2.color);\r\n                        ctx.strokeStyle = gradient;\r\n                        ctx.globalAlpha = 1 - distance / CONNECTION_DISTANCE;\r\n                        ctx.lineWidth = 1;\r\n                        ctx.moveTo(p1.x, p1.y);\r\n                        ctx.lineTo(p2.x, p2.y);\r\n                        ctx.stroke();\r\n                        ctx.globalAlpha = 1; // Reset alpha\r\n                    }\r\n                }\r\n            });\r\n\r\n            animationFrameId = requestAnimationFrame(animate);\r\n        };\r\n\r\n        window.addEventListener('resize', init);\r\n        init();\r\n        animate();\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', init);\r\n            cancelAnimationFrame(animationFrameId);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <canvas\r\n            ref={canvasRef}\r\n            className=\"fixed inset-0 z-[-1] pointer-events-none opacity-60 bg-slate-950\"\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/PhotoManager.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { RefreshCcw, CheckCircle2, AlertCircle, Play, Pause, Trash2, X, AlertTriangle, Image as ImageIcon, Minus } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Creator } from '@/types';\r\n\r\nexport function PhotoManager({ creators }: { creators: Creator[] }) {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [status, setStatus] = useState<any>(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [showErrors, setShowErrors] = useState(false);\r\n\r\n    const checkStatus = useCallback(async () => {\r\n        try {\r\n            const res = await fetch('/api/scraper/manager');\r\n            const data = await res.json();\r\n            setStatus(data);\r\n        } catch (err) {\r\n            console.error('Error status check:', err);\r\n        }\r\n    }, []);\r\n\r\n    // Poll status regardless of modal state to update header progress\r\n    useEffect(() => {\r\n        checkStatus();\r\n        // Poll every 2 seconds for smoother progress\r\n        const interval = setInterval(checkStatus, 2000);\r\n        return () => clearInterval(interval);\r\n    }, [checkStatus]);\r\n\r\n    const handleAction = async (action: 'start' | 'stop' | 'resume' | 'reset') => {\r\n        setIsLoading(true);\r\n        try {\r\n            const body: any = { action };\r\n            if (action === 'start') {\r\n                body.usernames = creators.map(c => c.username);\r\n            }\r\n            await fetch('/api/scraper/manager', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(body)\r\n            });\r\n            await checkStatus();\r\n        } catch (err) {\r\n            alert('Error al procesar acción');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Use Portal to escape parent stacking contexts (e.g. sticky nav with backdrop-filter)\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    const isRunning = status?.isRunning;\r\n    const progress = status ? (status.currentIndex / status.total) * 100 : 0;\r\n    const hasQueue = status?.total > 0;\r\n    const isPaused = !isRunning && hasQueue && status.currentIndex < status.total;\r\n\r\n    const modalContent = (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md\">\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.95, y: 10 }}\r\n                        animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                        exit={{ opacity: 0, scale: 0.95, y: 10 }}\r\n                        className=\"bg-slate-900 rounded-[2rem] border border-slate-700/50 w-full max-w-lg shadow-2xl relative flex flex-col overflow-hidden max-h-[85vh]\"\r\n                        style={{ margin: 'auto' }} // Extra safety for centering\r\n                    >\r\n                        {/* Header Compacto */}\r\n                        <div className=\"flex justify-between items-center p-5 border-b border-white/5 bg-slate-800/30 shrink-0\">\r\n                            <div>\r\n                                <h3 className=\"text-base font-black tracking-widest uppercase text-slate-100 flex items-center gap-2\">\r\n                                    Nexus Scraper\r\n                                    {isRunning && <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />}\r\n                                </h3>\r\n                                <p className=\"text-slate-500 text-[10px] uppercase font-bold tracking-tighter\">Mantenimiento de Fotos</p>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setIsOpen(false)}\r\n                                className=\"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 rounded-lg text-slate-300 hover:text-white transition-colors border border-slate-700 text-[10px] font-bold uppercase flex items-center gap-1.5\"\r\n                            >\r\n                                <Minus className=\"w-3 h-3\" /> Minimizar\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"p-5 overflow-y-auto custom-scrollbar\">\r\n                            {hasQueue ? (\r\n                                <div className=\"space-y-4\">\r\n                                    {/* Status Card */}\r\n                                    <div className=\"bg-black/40 rounded-2xl p-4 border border-white/5 shadow-inner\">\r\n                                        <div className=\"flex justify-between items-end mb-3\">\r\n                                            <div className=\"space-y-0.5\">\r\n                                                <p className=\"text-slate-500 text-[10px] uppercase font-bold tracking-tighter\">Usuario Actual</p>\r\n                                                <p className=\"text-white font-mono text-xs font-bold truncate max-w-[200px] flex items-center gap-2\">\r\n                                                    {status.currentUsername || \"...\"}\r\n                                                    {isRunning && <RefreshCcw className=\"w-3 h-3 animate-spin text-blue-500\" />}\r\n                                                </p>\r\n                                            </div>\r\n                                            <span className=\"text-lg font-black text-white\">{Math.round(progress)}%</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"h-1.5 bg-slate-800 rounded-full overflow-hidden mb-4 border border-slate-700/50\">\r\n                                            <motion.div\r\n                                                className=\"h-full bg-gradient-to-r from-blue-500 via-cyan-400 to-blue-500\"\r\n                                                initial={{ width: 0 }}\r\n                                                animate={{ width: `${progress}%` }}\r\n                                                transition={{ duration: 0.5 }}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"grid grid-cols-2 gap-3\">\r\n                                            <div className=\"bg-emerald-500/5 border border-emerald-500/10 rounded-xl p-3 flex flex-col items-center\">\r\n                                                <span className=\"text-emerald-500 text-[9px] font-black uppercase\">Éxito</span>\r\n                                                <span className=\"text-xl font-black text-emerald-400\">{status.successCount}</span>\r\n                                            </div>\r\n                                            <button\r\n                                                onClick={() => setShowErrors(true)}\r\n                                                className=\"bg-rose-500/5 border border-rose-500/10 rounded-xl p-3 flex flex-col items-center hover:bg-rose-500/10 transition-colors group/error\"\r\n                                            >\r\n                                                <span className=\"text-rose-500 text-[9px] font-black uppercase\">Fallos</span>\r\n                                                <span className=\"text-xl font-black text-rose-400\">{status.errorCount}</span>\r\n                                                <span className=\"text-[8px] text-rose-500/50 uppercase font-bold mt-1 group-hover/error:text-rose-500\">Ver Logs</span>\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Actions */}\r\n                                    <div className=\"flex gap-2\">\r\n                                        {isRunning ? (\r\n                                            <button\r\n                                                onClick={() => handleAction('stop')}\r\n                                                disabled={isLoading}\r\n                                                className=\"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-orange-500 text-white font-black uppercase tracking-wider text-[10px] hover:bg-orange-600 transition-all shadow-lg shadow-orange-500/20 active:scale-95\"\r\n                                            >\r\n                                                <Pause className=\"w-3 h-3 fill-white\" /> Pausar\r\n                                            </button>\r\n                                        ) : (\r\n                                            <button\r\n                                                onClick={() => handleAction(isPaused ? 'resume' : 'start')}\r\n                                                disabled={isLoading}\r\n                                                className=\"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl bg-emerald-500 text-white font-black uppercase tracking-wider text-[10px] hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-500/20 active:scale-95\"\r\n                                            >\r\n                                                <Play className=\"w-3 h-3 fill-white\" /> {isPaused ? 'Reanudar' : 'Iniciar'}\r\n                                            </button>\r\n                                        )}\r\n\r\n                                        {!isRunning && (\r\n                                            <button\r\n                                                onClick={() => handleAction('reset')}\r\n                                                disabled={isLoading}\r\n                                                className=\"px-4 py-3 rounded-xl bg-slate-800 text-slate-400 font-black uppercase tracking-wider text-[10px] hover:bg-slate-700 transition-all active:scale-95 border border-white/5\"\r\n                                            >\r\n                                                <Trash2 className=\"w-3 h-3\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ) : (\r\n                                <button\r\n                                    onClick={() => handleAction('start')}\r\n                                    disabled={isLoading}\r\n                                    className=\"w-full py-8 rounded-2xl bg-blue-600 hover:bg-blue-500 text-white border border-blue-400/30 font-black uppercase tracking-widest flex flex-col items-center justify-center gap-3 transition-all shadow-2xl shadow-blue-500/20 active:scale-95\"\r\n                                >\r\n                                    <RefreshCcw className=\"w-6 h-6\" />\r\n                                    <span className=\"text-xs\">Sincronizar Fotos</span>\r\n                                </button>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Error Logs Overlay */}\r\n                        <AnimatePresence>\r\n                            {showErrors && (\r\n                                <div className=\"absolute inset-0 z-[10000] flex items-center justify-center bg-slate-950/95 p-4\">\r\n                                    <div className=\"w-full h-full flex flex-col\">\r\n                                        <div className=\"p-4 border-b border-white/5 flex justify-between items-center bg-slate-900\">\r\n                                            <h2 className=\"text-sm font-black text-white uppercase tracking-tighter flex items-center gap-2\">\r\n                                                <AlertTriangle className=\"text-rose-500 w-4 h-4\" /> Logs de Error\r\n                                            </h2>\r\n                                            <button onClick={() => setShowErrors(false)} className=\"p-1 rounded-full bg-white/10 text-white\"><X className=\"w-4 h-4\" /></button>\r\n                                        </div>\r\n                                        <div className=\"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar\">\r\n                                            {status?.errorLogs && Object.keys(status.errorLogs).length > 0 ? (\r\n                                                Object.entries(status.errorLogs).map(([username, error]: [string, any]) => (\r\n                                                    <div key={username} className=\"text-[10px] p-2 bg-white/5 rounded border border-white/5 flex justify-between items-center\">\r\n                                                        <span className=\"font-mono text-white\">@{username}</span>\r\n                                                        <span className=\"text-rose-400 truncate max-w-[120px] text-right\" title={String(error)}>{error}</span>\r\n                                                    </div>\r\n                                                ))\r\n                                            ) : <div className=\"text-center text-slate-500 py-10 text-xs\">Sin errores registrados</div>}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </AnimatePresence>\r\n                    </motion.div>\r\n                </div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-3\">\r\n            {/* Trigger / Status Area - Header */}\r\n            {isRunning ? (\r\n                <div className=\"flex items-center gap-2 bg-slate-900/80 rounded-lg p-1 pr-3 border border-slate-700 overflow-hidden shadow-lg shadow-blue-900/20\">\r\n                    <button\r\n                        onClick={() => setIsOpen(true)}\r\n                        className=\"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-black uppercase tracking-wider transition-all rounded-md flex items-center gap-2 shadow-sm\"\r\n                    >\r\n                        <RefreshCcw className=\"w-3 h-3 animate-spin\" />\r\n                        <span>Sincronizando</span>\r\n                    </button>\r\n                    <div className=\"flex items-center gap-2 min-w-[100px]\">\r\n                        <div className=\"w-full h-1.5 bg-slate-800 rounded-full overflow-hidden border border-slate-700\">\r\n                            <motion.div\r\n                                className=\"h-full bg-blue-500\"\r\n                                initial={{ width: 0 }}\r\n                                animate={{ width: `${progress}%` }}\r\n                            />\r\n                        </div>\r\n                        <span className=\"text-[10px] font-mono font-bold text-blue-400 w-8 text-right\">{Math.round(progress)}%</span>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <button\r\n                    onClick={() => setIsOpen(true)}\r\n                    className=\"flex items-center gap-2 px-3 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-xs font-bold transition-all border border-slate-700\"\r\n                >\r\n                    <ImageIcon className=\"w-4 h-4\" />\r\n                    Scraper Fotos\r\n                </button>\r\n            )}\r\n\r\n            {/* Render Modal via Portal if mounted */}\r\n            {mounted && typeof document !== 'undefined' ? (\r\n                // @ts-ignore\r\n                createPortal(modalContent, document.body)\r\n            ) : null}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/CreatorChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n    BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid\r\n} from 'recharts';\r\nimport { Creator } from '@/types';\r\nimport { useMemo } from 'react';\r\n\r\n// For simplicity in MVP, we might aggregate data or just show individual bars for top creators\r\n// Ideally we show daily trends if data supported it, but our store is current snapshot.\r\n// So we compare Categories or Top Creators.\r\n\r\ninterface ChartProps {\r\n    creators: Creator[];\r\n    metric: 'diamonds' | 'liveHours';\r\n}\r\n\r\nexport default function TopPerformersChart({ creators, metric }: ChartProps) {\r\n    const data = useMemo(() => {\r\n        return creators\r\n            .sort((a, b) => b[metric] - a[metric])\r\n            .slice(0, 10)\r\n            .map(c => ({\r\n                name: c.username.length > 10 ? c.username.substring(0, 10) + '...' : c.username,\r\n                value: c[metric],\r\n                fullValue: c[metric]\r\n            }));\r\n    }, [creators, metric]);\r\n\r\n    return (\r\n        <div className=\"h-[300px] w-full\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                <BarChart data={data}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#334155\" vertical={false} />\r\n                    <XAxis\r\n                        dataKey=\"name\"\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                    />\r\n                    <YAxis\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                        tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}\r\n                    />\r\n                    <Tooltip\r\n                        cursor={{ fill: 'rgba(56, 189, 248, 0.1)' }}\r\n                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#1e293b', color: '#f8fafc' }}\r\n                        itemStyle={{ color: '#38bdf8' }}\r\n                        formatter={(value: number | undefined) => [value?.toLocaleString() || '0', metric === 'diamonds' ? 'Diamantes' : 'Horas']}\r\n                    />\r\n                    <Bar\r\n                        dataKey=\"value\"\r\n                        fill=\"url(#colorGradient)\"\r\n                        radius={[4, 4, 0, 0]}\r\n                        barSize={30}\r\n                    />\r\n                    <defs>\r\n                        <linearGradient id=\"colorGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                            <stop offset=\"5%\" stopColor=\"#38bdf8\" stopOpacity={0.8} />\r\n                            <stop offset=\"95%\" stopColor=\"#0ea5e9\" stopOpacity={0.4} />\r\n                        </linearGradient>\r\n                    </defs>\r\n                </BarChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;AANA;;;AAiBe,SAAS,mBAAmB,EAAE,QAAQ,EAAE,MAAM,EAAc;;IACvE,MAAM,OAAO,IAAA,8LAAO;4CAAC;YACjB,OAAO,SACF,IAAI;oDAAC,CAAC,GAAG,IAAM,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO;mDACpC,KAAK,CAAC,GAAG,IACT,GAAG;oDAAC,CAAA,IAAK,CAAC;wBACP,MAAM,EAAE,QAAQ,CAAC,MAAM,GAAG,KAAK,EAAE,QAAQ,CAAC,SAAS,CAAC,GAAG,MAAM,QAAQ,EAAE,QAAQ;wBAC/E,OAAO,CAAC,CAAC,OAAO;wBAChB,WAAW,CAAC,CAAC,OAAO;oBACxB,CAAC;;QACT;2CAAG;QAAC;QAAU;KAAO;IAErB,qBACI,mNAAC;QAAI,WAAU;kBACX,cAAA,mNAAC,mNAAmB;YAAC,OAAM;YAAO,QAAO;sBACrC,cAAA,mNAAC,yLAAQ;gBAAC,MAAM;;kCACZ,mNAAC,uMAAa;wBAAC,iBAAgB;wBAAM,QAAO;wBAAU,UAAU;;;;;;kCAChE,mNAAC,uLAAK;wBACF,SAAQ;wBACR,QAAO;wBACP,UAAU;wBACV,UAAU;wBACV,UAAU;;;;;;kCAEd,mNAAC,uLAAK;wBACF,QAAO;wBACP,UAAU;wBACV,UAAU;wBACV,UAAU;wBACV,eAAe,CAAC,QAAU,GAAG,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;;;;;;kCAE7D,mNAAC,2LAAO;wBACJ,QAAQ;4BAAE,MAAM;wBAA0B;wBAC1C,cAAc;4BAAE,iBAAiB;4BAAW,aAAa;4BAAW,OAAO;wBAAU;wBACrF,WAAW;4BAAE,OAAO;wBAAU;wBAC9B,WAAW,CAAC,QAA8B;gCAAC,OAAO,oBAAoB;gCAAK,WAAW,aAAa,cAAc;6BAAQ;;;;;;kCAE7H,mNAAC,mLAAG;wBACA,SAAQ;wBACR,MAAK;wBACL,QAAQ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE;wBACpB,SAAS;;;;;;kCAEb,mNAAC;kCACG,cAAA,mNAAC;4BAAe,IAAG;4BAAgB,IAAG;4BAAI,IAAG;4BAAI,IAAG;4BAAI,IAAG;;8CACvD,mNAAC;oCAAK,QAAO;oCAAK,WAAU;oCAAU,aAAa;;;;;;8CACnD,mNAAC;oCAAK,QAAO;oCAAM,WAAU;oCAAU,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhF;GArDwB;KAAA"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/CreatorTable.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Creator } from '@/types';\r\nimport { useState } from 'react';\r\nimport { ArrowUp, ArrowDown, Search, CheckCircle2, AlertTriangle, TrendingDown, Copy, MessageCircle } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { generateAiAdvice } from '@/lib/analysis';\r\n\r\n// ─── Avatar Component ─────────────────────────────────────────────────────────\r\nfunction CreatorAvatar({ url, name, size = 'md' }: { url?: string; name: string; size?: 'sm' | 'md' | 'lg' | 'xl' }) {\r\n    const [imageSrc, setImageSrc] = useState<string | null>(null);\r\n    const [error, setError] = useState(false);\r\n\r\n    // Initials logic\r\n    const initials = name ? name.substring(0, 2).toUpperCase() : '??';\r\n\r\n    // Size classes\r\n    const sizeClasses = {\r\n        sm: 'w-6 h-6 text-[9px]',\r\n        md: 'w-8 h-8 text-[10px]',\r\n        lg: 'w-10 h-10 text-xs',\r\n        xl: 'w-12 h-12 text-sm'\r\n    };\r\n    const sClass = sizeClasses[size];\r\n\r\n    // Determine initial source (Local > Remote)\r\n    // Format: /foto_perfil/[username].jpg\r\n    const localPath = `/foto_perfil/${name}.jpg`;\r\n\r\n    if (error) {\r\n        return (\r\n            <div className={`${sClass} rounded-full bg-slate-700 border border-slate-600 flex items-center justify-center font-bold text-slate-300 shrink-0 select-none`}>\r\n                {initials}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={`${sClass} rounded-full bg-slate-800 border border-slate-600 overflow-hidden shrink-0`}>\r\n            <img\r\n                src={imageSrc || localPath}\r\n                alt={name}\r\n                className=\"w-full h-full object-cover\"\r\n                onError={(e) => {\r\n                    // Try local -> then remote -> then error\r\n                    if (imageSrc === localPath || !imageSrc) {\r\n                        if (url && url !== localPath) {\r\n                            setImageSrc(url);\r\n                        } else {\r\n                            setError(true);\r\n                        }\r\n                    } else {\r\n                        // If remote fails too\r\n                        setError(true);\r\n                    }\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function CreatorTable({ creators }: { creators: Creator[] }) {\r\n    const [sortField, setSortField] = useState<keyof Creator | 'tier'>('tier');\r\n    const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc'); // Tier 0 (Green) first\r\n    const [filter, setFilter] = useState('');\r\n\r\n    const today = new Date();\r\n    const currentDay = today.getDate();\r\n    const daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\r\n    const expectedProgress = Math.round((currentDay / daysInMonth) * 100);\r\n\r\n    // Helper to determine Tier (0=Green, 1=Yellow, 2=Red)\r\n    const getTier = (c: Creator) => {\r\n        const achieved = (c.diamondsAchieved || 0) * 100;\r\n        const trend = (c.diamondsGrowth || 0) * 100;\r\n\r\n        // Green: Above expected progress OR crushing it daily (>50% growth)\r\n        if (achieved >= expectedProgress || trend > 50) return 0;\r\n\r\n        // Red: Way behind schedule (<70% of expected) AND not recovering daily\r\n        if (achieved < expectedProgress * 0.7 && trend < 0) return 2;\r\n\r\n        // Yellow: Everything else (Average/Warning)\r\n        return 1;\r\n    };\r\n\r\n    const sortedCreators = [...creators]\r\n        .filter(c => c.username.toLowerCase().includes(filter.toLowerCase()) || c.creatorId.includes(filter))\r\n        .map(c => ({ ...c, tier: getTier(c) })) // Attach tier for sorting\r\n        .sort((a, b) => {\r\n            // Primary Sort: Tier\r\n            if (sortField === 'tier') {\r\n                const tierDiff = a.tier - b.tier;\r\n                if (tierDiff !== 0) return sortOrder === 'asc' ? tierDiff : -tierDiff;\r\n                // Secondary Sort: Diamonds (always Descending for same tier)\r\n                return b.diamonds - a.diamonds;\r\n            }\r\n\r\n            // Standard Sort\r\n            const valA = a[sortField as keyof Creator];\r\n            const valB = b[sortField as keyof Creator];\r\n\r\n            if (typeof valA === 'string' && typeof valB === 'string') {\r\n                return sortOrder === 'asc' ? valA.localeCompare(valB) : valB.localeCompare(valA);\r\n            }\r\n            return sortOrder === 'asc' ? Number(valA) - Number(valB) : Number(valB) - Number(valA);\r\n        });\r\n\r\n    const handleSort = (field: any) => {\r\n        if (sortField === field) {\r\n            setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n        } else {\r\n            setSortField(field);\r\n            setSortOrder('asc');\r\n        }\r\n    };\r\n\r\n    const handleCopyAdvice = (creator: Creator) => {\r\n        const msg = generateAiAdvice(creator);\r\n        navigator.clipboard.writeText(msg);\r\n        alert(`Plan copiado para ${creator.username}`);\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden shadow-sm\">\r\n            <div className=\"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-900\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <h3 className=\"font-semibold text-white\">Estado de Agencia (Tier View)</h3>\r\n                    <div className=\"flex gap-2 text-[10px] items-center bg-black/30 p-1 rounded-lg border border-slate-800\">\r\n                        <span className=\"flex items-center gap-1 px-2 py-1 bg-emerald-500/10 text-emerald-400 rounded\"><CheckCircle2 className=\"w-3 h-3\" /> Top</span>\r\n                        <span className=\"flex items-center gap-1 px-2 py-1 bg-yellow-500/10 text-yellow-400 rounded\"><AlertTriangle className=\"w-3 h-3\" /> Medio</span>\r\n                        <span className=\"flex items-center gap-1 px-2 py-1 bg-red-500/10 text-red-400 rounded\"><TrendingDown className=\"w-3 h-3\" /> Riesgo</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"relative\">\r\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Buscar...\"\r\n                        value={filter}\r\n                        onChange={(e) => setFilter(e.target.value)}\r\n                        className=\"pl-9 pr-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-nexus-500 outline-none w-64\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-left text-sm text-slate-400\">\r\n                    <thead className=\"bg-slate-800/50 text-slate-200 uppercase text-xs font-semibold\">\r\n                        <tr>\r\n                            <th className=\"px-6 py-3 cursor-pointer hover:text-white\" onClick={() => handleSort('tier')}>Estado</th>\r\n                            <th className=\"px-6 py-3 cursor-pointer hover:text-white\" onClick={() => handleSort('username')}>Creador</th>\r\n                            <th className=\"px-6 py-3 cursor-pointer hover:text-white text-right\" onClick={() => handleSort('diamonds')}>Diamantes</th>\r\n                            <th className=\"px-6 py-3 cursor-pointer hover:text-white text-center\" onClick={() => handleSort('diamondsAchieved')}>Progreso Mensual</th>\r\n                            <th className=\"px-6 py-3 cursor-pointer hover:text-white text-center\" onClick={() => handleSort('diamondsGrowth')}>Tendencia Diaria</th>\r\n                            <th className=\"px-6 py-3\">Acción IA</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-slate-800\">\r\n                        {sortedCreators.map((creator) => {\r\n                            const tier = creator.tier;\r\n\r\n                            // Progreso Mensual (Goal vs Last Month)\r\n                            const goalBase = creator.lastMonthDiamonds || 1;\r\n                            const goalProgress = (creator.diamonds / goalBase) * 100;\r\n                            const achieved = Math.round(goalProgress);\r\n\r\n                            // Tendencia Diaria (Pace)\r\n                            // Use the new diamondsDailyTrend if available, otherwise fallback to general growth\r\n                            const dailyTrend = Math.round((creator.diamondsDailyTrend || creator.diamondsGrowth || 0) * 100);\r\n                            const isPositiveTrend = dailyTrend >= 0;\r\n\r\n                            // Dynamic Styling based on Tier\r\n                            let rowClass = \"hover:bg-slate-800/50 transition-colors group border-l-2\";\r\n                            let statusColor = \"\";\r\n                            let TierIcon = CheckCircle2;\r\n\r\n                            if (tier === 0) {\r\n                                rowClass += \" border-l-emerald-500 bg-emerald-950/5\";\r\n                                statusColor = \"text-emerald-400\";\r\n                                TierIcon = CheckCircle2;\r\n                            } else if (tier === 1) {\r\n                                rowClass += \" border-l-yellow-500 bg-yellow-950/5\";\r\n                                statusColor = \"text-yellow-400\";\r\n                                TierIcon = AlertTriangle;\r\n                            } else {\r\n                                rowClass += \" border-l-red-500 bg-red-950/10\";\r\n                                statusColor = \"text-red-400\";\r\n                                TierIcon = TrendingDown;\r\n                            }\r\n\r\n                            return (\r\n                                <tr key={creator.creatorId} className={rowClass}>\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <div className={`p-2 rounded-full w-fit ${tier === 0 ? 'bg-emerald-500/10 shadow-[0_0_10px_rgba(34,197,94,0.4)]' : tier === 1 ? 'bg-yellow-500/10 shadow-[0_0_10px_rgba(234,179,8,0.4)]' : 'bg-red-500/10 shadow-[0_0_10px_rgba(239,68,68,0.4)]'}`}>\r\n                                            <TierIcon className={`w-4 h-4 ${statusColor}`} />\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 font-medium text-white flex items-center gap-3\">\r\n                                        <CreatorAvatar url={creator.avatar} name={creator.username} size=\"lg\" />\r\n                                        <div>\r\n                                            <div className=\"font-bold\">{creator.username}</div>\r\n                                            <div className=\"text-[10px] text-slate-500 font-mono\">ID: {creator.creatorId}</div>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td className=\"px-6 py-4 text-right font-mono text-white font-bold\">\r\n                                        {creator.diamonds.toLocaleString()}\r\n                                        <div className=\"text-[10px] text-slate-500 font-normal\">\r\n                                            vs {creator.lastMonthDiamonds?.toLocaleString() || '0'} (Mes Pasado)\r\n                                        </div>\r\n                                    </td>\r\n\r\n                                    {/* Progreso Mensual (Vs Last Month Total) */}\r\n                                    <td className=\"px-6 py-4 text-center\">\r\n                                        <div className=\"flex flex-col items-center\">\r\n                                            <div className=\"w-24 bg-slate-800 h-1.5 rounded-full overflow-hidden mb-1\">\r\n                                                <div\r\n                                                    className={`h-full ${achieved >= 100 ? 'bg-emerald-500' : 'bg-blue-500'}`}\r\n                                                    style={{ width: `${Math.min(100, achieved)}%` }}\r\n                                                />\r\n                                            </div>\r\n                                            <span className={`text-xs font-bold ${achieved >= 100 ? 'text-emerald-400' : 'text-blue-400'}`}>\r\n                                                {achieved}% <span className=\"text-slate-500 font-normal\">de Meta</span>\r\n                                            </span>\r\n                                        </div>\r\n                                    </td>\r\n\r\n                                    {/* Tendencia Diaria (Pace) */}\r\n                                    <td className=\"px-6 py-4 text-center\">\r\n                                        <span className={cn(\r\n                                            \"px-2 py-1 rounded-md text-xs font-bold border\",\r\n                                            isPositiveTrend\r\n                                                ? \"bg-emerald-500/10 text-emerald-400 border-emerald-500/20\"\r\n                                                : \"bg-red-500/10 text-red-400 border-red-500/20\"\r\n                                        )}>\r\n                                            {isPositiveTrend ? '+' : ''}{dailyTrend}%\r\n                                        </span>\r\n                                    </td>\r\n\r\n                                    <td className=\"px-6 py-4\">\r\n                                        <button\r\n                                            onClick={() => handleCopyAdvice(creator)}\r\n                                            className=\"flex items-center gap-2 text-xs bg-slate-800 hover:bg-slate-700 text-slate-300 px-3 py-1.5 rounded-lg border border-slate-700 transition-colors\"\r\n                                        >\r\n                                            <MessageCircle className=\"w-3 h-3\" /> Ver Plan\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1758, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/ShareableCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Creator } from '@/types';\r\nimport { forwardRef } from 'react';\r\nimport { Trophy, TrendingUp, Calendar, Zap, Star, ShieldCheck } from 'lucide-react';\r\n\r\n// This component is designed to be rendered visibly or invisibly for capture\r\nexport const ShareableCard = forwardRef<HTMLDivElement, { creator: Creator }>(({ creator }, ref) => {\r\n    const isTopPerformer = creator.diamonds > 50000;\r\n    const isElite = creator.diamonds > 100000;\r\n    const safeUsername = creator.username.replace(/[^a-zA-Z0-9_\\.]/g, '');\r\n\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className=\"w-[400px] h-[640px] relative overflow-hidden flex flex-col items-center justify-between font-sans shadow-2xl\"\r\n            style={{\r\n                backgroundColor: '#020617', // slate-950\r\n                color: '#ffffff',\r\n                borderColor: '#0f172a', // slate-900\r\n                borderWidth: '4px',\r\n                colorScheme: 'dark'\r\n            }}\r\n        >\r\n            {/* --- GALACTIC BACKGROUND --- */}\r\n            <div className=\"absolute inset-0 z-0\">\r\n                <div className=\"absolute inset-0\" style={{ background: 'radial-gradient(circle at 50% 40%, #1e1b4b 0%, #020617 100%)' }}></div>\r\n                {/* Stars/Dust */}\r\n                <div className=\"absolute inset-0 opacity-20 bg-[url('https://grainy-gradients.vercel.app/noise.svg')]\"></div>\r\n                {/* Glowing Nebulas */}\r\n                <div className=\"absolute top-[-10%] left-[-20%] w-[80%] h-[60%] rounded-full blur-[100px]\" style={{ backgroundColor: 'rgba(147, 51, 234, 0.2)' }}></div>\r\n                <div className=\"absolute bottom-[-10%] right-[-20%] w-[80%] h-[60%] rounded-full blur-[100px]\" style={{ backgroundColor: 'rgba(79, 70, 229, 0.2)' }}></div>\r\n\r\n                {/* Floating Stars */}\r\n                {[...Array(15)].map((_, i) => (\r\n                    <div\r\n                        key={i}\r\n                        className=\"absolute bg-white rounded-full opacity-40\"\r\n                        style={{\r\n                            width: Math.random() * 3 + 'px',\r\n                            height: Math.random() * 3 + 'px',\r\n                            top: Math.random() * 100 + '%',\r\n                            left: Math.random() * 100 + '%',\r\n                            boxShadow: '0 0 10px white'\r\n                        }}\r\n                    ></div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* --- HEADER --- */}\r\n            <div className=\"z-10 mt-12 text-center px-6\">\r\n                <div className=\"flex items-center justify-center gap-2 mb-3\">\r\n                    <div className=\"h-px w-8\" style={{ background: 'linear-gradient(to right, transparent, rgba(234, 179, 8, 0.5))' }}></div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                        <ShieldCheck className=\"w-4 h-4\" color=\"#eab308\" />\r\n                        <span className=\"uppercase tracking-[0.4em] text-[10px] font-black\" style={{ color: '#eab308' }}>Nexus Agency Élite</span>\r\n                    </div>\r\n                    <div className=\"h-px w-8\" style={{ background: 'linear-gradient(to left, transparent, rgba(234, 179, 8, 0.5))' }}></div>\r\n                </div>\r\n                <h1 className=\"text-4xl font-black drop-shadow-[0_5px_15px_rgba(0,0,0,0.5)] tracking-tighter uppercase leading-tight\" style={{ color: '#ffffff' }}>\r\n                    {creator.username}\r\n                </h1>\r\n                <div className=\"mt-1 flex items-center justify-center gap-2\">\r\n                    <span className=\"font-mono text-xs tracking-widest uppercase\" style={{ color: '#64748b' }}>{creator.creatorId}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- IMAGE / AVATAR --- */}\r\n            <div className=\"relative z-20 my-2\">\r\n                {/* Outer Glow Ring */}\r\n                <div className=\"absolute inset-[-20px] rounded-full blur-3xl opacity-40\" style={{ backgroundColor: isElite ? '#eab308' : '#6366f1' }}></div>\r\n\r\n                {/* Avatar Border */}\r\n                <div className=\"p-1 rounded-full shadow-2xl relative\" style={{ background: isElite ? 'linear-gradient(to bottom, #fef08a, #eab308, #854d0e)' : 'linear-gradient(to bottom, #334155, #0f172a)' }}>\r\n                    <div className=\"w-44 h-44 rounded-full border-4 overflow-hidden relative\" style={{ borderColor: '#020617', backgroundColor: '#0f172a' }}>\r\n                        <img\r\n                            src={creator.avatar || `/foto_perfil/${safeUsername}.jpg`}\r\n                            onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                            className=\"w-full h-full object-cover\"\r\n                            crossOrigin=\"anonymous\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Position Label */}\r\n                    <div\r\n                        className=\"absolute -bottom-3 left-1/2 -translate-x-1/2 px-4 py-1 rounded-full font-black text-[10px] tracking-widest uppercase border-2 shadow-xl flex items-center gap-1.5 min-w-max\"\r\n                        style={{\r\n                            backgroundColor: isElite ? '#eab308' : '#4f46e5',\r\n                            color: isElite ? '#451a03' : '#ffffff',\r\n                            borderColor: isElite ? '#fef08a' : '#818cf8',\r\n                            boxShadow: isElite ? '0 0 15px rgba(234, 179, 8, 0.2)' : '0 0 15px rgba(99, 102, 241, 0.2)'\r\n                        }}\r\n                    >\r\n                        {isElite ? <Trophy className=\"w-3 h-3\" /> : <Star className=\"w-3 h-3\" />}\r\n                        {isElite ? 'Top Global' : 'Creador Destacado'}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- MAIN STATS BOX --- */}\r\n            <div className=\"z-10 w-full px-8 mb-4\">\r\n                <div className=\"backdrop-blur-xl rounded-[2rem] p-8 border shadow-2xl relative overflow-hidden\"\r\n                    style={{ backgroundColor: 'rgba(15, 23, 42, 0.4)', borderColor: 'rgba(255, 255, 255, 0.05)' }}>\r\n                    {/* Geometric Detail */}\r\n                    <div className=\"absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl\" style={{ backgroundColor: 'rgba(234, 179, 8, 0.05)' }}></div>\r\n\r\n                    <div className=\"flex flex-col items-center mb-6\">\r\n                        <span className=\"text-[10px] font-black uppercase tracking-[0.2em] mb-1\" style={{ color: '#94a3b8' }}>Diamantes Recaudados</span>\r\n                        <div className=\"text-5xl font-black text-white drop-shadow-[0_2px_10px_rgba(255,255,255,0.2)]\">\r\n                            {creator.diamonds.toLocaleString()}\r\n                        </div>\r\n                        {creator.diamondsGrowth > 0 && (\r\n                            <div className=\"mt-2 text-xs font-bold flex items-center gap-1 px-3 py-1 rounded-full border\"\r\n                                style={{\r\n                                    color: '#34d399',\r\n                                    backgroundColor: 'rgba(16, 185, 129, 0.1)',\r\n                                    borderColor: 'rgba(16, 185, 129, 0.2)'\r\n                                }}>\r\n                                <TrendingUp className=\"w-3 h-3\" />\r\n                                +{Math.round(creator.diamondsGrowth * 100)}% Crecimiento\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4 pt-4 border-t\" style={{ borderColor: 'rgba(255, 255, 255, 0.05)' }}>\r\n                        <div className=\"text-center\">\r\n                            <div className=\"text-[9px] font-bold uppercase tracking-widest mb-1\" style={{ color: '#64748b' }}>Horas Live</div>\r\n                            <div className=\"text-2xl font-black text-white tracking-tight\">{creator.liveHours.toFixed(1)}h</div>\r\n                        </div>\r\n                        <div className=\"text-center border-l\" style={{ borderColor: 'rgba(255, 255, 255, 0.05)' }}>\r\n                            <div className=\"text-[9px] font-bold uppercase tracking-widest mb-1\" style={{ color: '#64748b' }}>Días Válidos</div>\r\n                            <div className=\"text-2xl font-black text-white tracking-tight\">{creator.validDays}d</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* --- BRAND FOOTER --- */}\r\n            <div className=\"z-10 w-full pb-10 flex flex-col items-center gap-3\">\r\n                <div className=\"flex items-center gap-4 opacity-30\">\r\n                    <div className=\"h-px w-20 bg-white\"></div>\r\n                    <div className=\"w-2 h-2 rounded-full border border-white\"></div>\r\n                    <div className=\"h-px w-20 bg-white\"></div>\r\n                </div>\r\n                <div className=\"flex flex-col items-center\">\r\n                    <p className=\"text-[10px] uppercase tracking-[0.5em] font-black\" style={{ color: '#64748b' }}>\r\n                        Nexus Agency Social Card\r\n                    </p>\r\n                    <p className=\"text-[8px] mt-1 font-mono tracking-tighter\" style={{ color: '#475569' }}>\r\n                        Verification ID: {new Date().getTime().toString(36).toUpperCase()}-{creator.creatorId}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nShareableCard.displayName = 'ShareableCard';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2278, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/CreatorModal.tsx"],"sourcesContent":["import { Creator } from '@/types';\r\nimport { X, Copy, MessageCircle, TrendingUp, AlertTriangle, Save, Phone, Download, Share2 } from 'lucide-react';\r\nimport { generateAiAdvice } from '@/lib/analysis';\r\nimport { useState, useRef } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { useCreatorStore } from '@/store/useCreatorStore';\r\nimport { ShareableCard } from './ShareableCard';\r\nimport html2canvas from 'html2canvas';\r\n\r\ninterface CreatorModalProps {\r\n    creator: Creator | null;\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function CreatorModal({ creator, onClose }: CreatorModalProps) {\r\n    const defaultPhone = \"57\";\r\n    const [copied, setCopied] = useState(false);\r\n    const [isEditingPhone, setIsEditingPhone] = useState(false);\r\n    const [phone, setPhone] = useState(creator?.whatsapp || '');\r\n    const [isDownloading, setIsDownloading] = useState(false);\r\n    const cardRef = useRef<HTMLDivElement>(null);\r\n    const { updateCreator } = useCreatorStore();\r\n\r\n    if (!creator) return null;\r\n\r\n    const advice = generateAiAdvice(creator);\r\n    const isGrowing = creator.diamondsGrowth >= 0;\r\n\r\n    // Determine Status Logic (Same as Table)\r\n    let statusMsg = \"🚀 ¡Vas por buen camino!\";\r\n    let category = \"STANDARD\";\r\n    if (creator.diamonds > 100000 || (creator.diamonds > 50000 && creator.liveHours > 40)) {\r\n        statusMsg = \"👑 ¡ERES ELITE! Estás rompiendo todos los récords.\";\r\n        category = \"ELITE\";\r\n    } else if ((creator.diamonds > 10000 && creator.diamonds <= 100000) || (creator.liveHours > 30)) {\r\n        statusMsg = \"⭐ ¡GRAN TRABAJO! Estás muy cerca de subir de nivel.\";\r\n        category = \"RISING\";\r\n    }\r\n    // If declining\r\n    if (creator.diamondsGrowth < -0.1) {\r\n        statusMsg = \"⚠️ HEMOS NOTADO UNA BAJA. Vamos a recuperar esos números.\";\r\n        category = \"RISK\";\r\n    }\r\n\r\n    const handleSavePhone = () => {\r\n        updateCreator(creator.creatorId, { whatsapp: phone });\r\n        setIsEditingPhone(false);\r\n    };\r\n\r\n    const handleDownloadCard = async () => {\r\n        if (!cardRef.current) return;\r\n        setIsDownloading(true);\r\n        try {\r\n            const canvas = await html2canvas(cardRef.current, {\r\n                scale: 2,\r\n                backgroundColor: '#020617',\r\n                useCORS: true,\r\n                allowTaint: true,\r\n            });\r\n            const image = canvas.toDataURL('image/png');\r\n            const link = document.createElement('a');\r\n            link.href = image;\r\n            link.download = `Nexus-Card-${creator.username}.png`;\r\n            link.click();\r\n        } catch (err) {\r\n            console.error(\"Card download failed\", err);\r\n        }\r\n        setIsDownloading(false);\r\n    };\r\n\r\n    const generateMessage = () => {\r\n        return `Hola ${creator.username}!! ${category === 'ELITE' ? '👑' : '🌟'}\r\n    \r\n${statusMsg}\r\n\r\n📊 *Tu Reporte Actual:*\r\n💎 Diamantes: ${creator.diamonds.toLocaleString()} (${isGrowing ? '+' : ''}${(creator.diamondsGrowth * 100).toFixed(1)}%)\r\n⏳ Horas: ${creator.liveHours.toFixed(1)}h\r\n📅 Días: ${creator.validDays}\r\n\r\n💡 *Estrategia para ti:*\r\n${advice}\r\n\r\n${category === 'RISK' ? '🚨 Necesitamos agendar una reunión urgente para ver qué pasa.' : '¡Sigue así, vamos por la siguiente meta! 💪'}`;\r\n    };\r\n\r\n    const whatsappLink = phone.length > 5\r\n        ? `https://wa.me/${phone}?text=${encodeURIComponent(generateMessage())}`\r\n        : `https://wa.me/?text=${encodeURIComponent(generateMessage())}`;\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(generateMessage());\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-md animate-in fade-in duration-300\">\r\n            {/* Hidden Card for Capture */}\r\n            <div className=\"absolute left-[9999px]\">\r\n                <ShareableCard ref={cardRef} creator={creator} />\r\n            </div>\r\n\r\n            <div className=\"bg-slate-900 border border-slate-700 rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-300 relative flex flex-col max-h-[90vh]\">\r\n\r\n                {/* Background Decor */}\r\n                <div className=\"absolute top-0 left-0 w-full h-32 bg-gradient-to-b from-nexus-900/50 to-transparent pointer-events-none\" />\r\n\r\n                {/* Header */}\r\n                <div className=\"p-6 relative z-10 shrink-0\">\r\n                    <button onClick={onClose} className=\"absolute top-6 right-6 text-slate-400 hover:text-white transition-colors bg-black/20 rounded-full p-2\">\r\n                        <X className=\"w-5 h-5\" />\r\n                    </button>\r\n\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <div className={`w-24 h-24 rounded-full p-1 ${isGrowing ? 'bg-gradient-to-br from-green-400 to-emerald-600' : 'bg-gradient-to-br from-red-500 to-rose-700'} shadow-xl mb-4 relative group`}>\r\n                            <div className=\"w-full h-full rounded-full bg-slate-900 flex items-center justify-center border-4 border-slate-900 overflow-hidden relative\">\r\n                                <img\r\n                                    src={creator.avatar || `/foto_perfil/${creator.username.replace(/[^a-zA-Z0-9_\\.]/g, '')}.jpg`}\r\n                                    onError={(e) => { e.currentTarget.src = '/default-user.png'; }}\r\n                                    className=\"w-full h-full object-cover\"\r\n                                />\r\n                                {/* Hover Overlay for Photo Actions if needed */}\r\n                            </div>\r\n                            {/* Download Button Small */}\r\n                            <button\r\n                                onClick={handleDownloadCard}\r\n                                disabled={isDownloading}\r\n                                className=\"absolute -bottom-2 -right-2 bg-slate-800 hover:bg-slate-700 text-white p-2 rounded-full shadow-lg border border-slate-600 transition-colors tooltip\"\r\n                                title=\"Descargar Tarjeta\"\r\n                            >\r\n                                {isDownloading ? <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" /> : <Download className=\"w-4 h-4\" />}\r\n                            </button>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-bold text-white flex items-center gap-2\">\r\n                            {creator.username}\r\n                            {category === 'ELITE' && <span className=\"text-xs bg-emerald-500 text-black px-2 py-0.5 rounded-full font-black tracking-tighter\">ELITE</span>}\r\n                            {category === 'RISK' && <span className=\"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full font-black tracking-tighter\">RIESGO</span>}\r\n                        </h2>\r\n                        <p className=\"text-nexus-300 font-mono text-xs tracking-wider uppercase opacity-80\">ID: {creator.creatorId}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Scrollable Body */}\r\n                <div className=\"px-6 pb-6 space-y-6 overflow-y-auto custom-scrollbar flex-1\">\r\n\r\n                    {/* Stats Grid */}\r\n                    <div className=\"grid grid-cols-3 gap-3\">\r\n                        <div className=\"bg-slate-950/60 p-4 rounded-2xl border border-slate-800 text-center hover:border-nexus-500/30 transition-colors\">\r\n                            <p className=\"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1\">Diamantes</p>\r\n                            <p className=\"text-xl font-black text-white\">{creator.diamonds.toLocaleString()}</p>\r\n                            <p className={`text-[10px] ${isGrowing ? 'text-green-400' : 'text-red-400'}`}>\r\n                                {isGrowing ? '+' : ''}{(creator.diamondsGrowth * 100).toFixed(0)}%\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"bg-slate-950/60 p-4 rounded-2xl border border-slate-800 text-center hover:border-nexus-500/30 transition-colors\">\r\n                            <p className=\"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1\">Horas Live</p>\r\n                            <p className=\"text-xl font-black text-blue-400\">{creator.liveHours.toFixed(1)}h</p>\r\n                        </div>\r\n                        <div className=\"bg-slate-950/60 p-4 rounded-2xl border border-slate-800 text-center hover:border-nexus-500/30 transition-colors\">\r\n                            <p className=\"text-[10px] text-slate-500 uppercase tracking-widest font-bold mb-1\">Días Válidos</p>\r\n                            <p className=\"text-xl font-black text-purple-400\">{creator.validDays}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Daily Progress Section (DoD) */}\r\n                    {(creator.dailyDiamondsChange !== undefined || creator.dailyLiveHoursChange !== undefined) && (\r\n                        <div className=\"bg-slate-900/80 p-4 rounded-2xl border border-slate-700/50\">\r\n                            <h3 className=\"text-xs font-bold text-slate-400 uppercase mb-3 flex items-center gap-2\">\r\n                                <TrendingUp className=\"w-4 h-4\" /> Progreso Diario (vs Ayer)\r\n                            </h3>\r\n                            <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n                                <div>\r\n                                    <p className=\"text-[10px] text-slate-500 mb-1\">Diamantes</p>\r\n                                    <div className={cn(\"text-sm font-bold flex items-center justify-center gap-1\",\r\n                                        (creator.dailyDiamondsChange || 0) > 0 ? \"text-emerald-400\" : (creator.dailyDiamondsChange || 0) < 0 ? \"text-rose-400\" : \"text-slate-500\"\r\n                                    )}>\r\n                                        {(creator.dailyDiamondsChange || 0) > 0 ? <TrendingUp className=\"w-3 h-3\" /> : (creator.dailyDiamondsChange || 0) < 0 ? <TrendingUp className=\"w-3 h-3 rotate-180\" /> : null}\r\n                                        {(creator.dailyDiamondsChange || 0) > 0 ? '+' : ''}{(creator.dailyDiamondsChange || 0).toLocaleString()}\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-[10px] text-slate-500 mb-1\">Horas</p>\r\n                                    <div className={cn(\"text-sm font-bold flex items-center justify-center gap-1\",\r\n                                        (creator.dailyLiveHoursChange || 0) > 0 ? \"text-emerald-400\" : (creator.dailyLiveHoursChange || 0) < 0 ? \"text-rose-400\" : \"text-slate-500\"\r\n                                    )}>\r\n                                        {(creator.dailyLiveHoursChange || 0) > 0 ? '+' : ''}{(creator.dailyLiveHoursChange || 0).toFixed(1)}h\r\n                                    </div>\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-[10px] text-slate-500 mb-1\">Días</p>\r\n                                    <div className={cn(\"text-sm font-bold flex items-center justify-center gap-1\",\r\n                                        (creator.dailyValidDaysChange || 0) > 0 ? \"text-emerald-400\" : \"text-slate-500\"\r\n                                    )}>\r\n                                        {(creator.dailyValidDaysChange || 0) > 0 ? '+' : ''}{creator.dailyValidDaysChange || 0}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Historical Comparison (User Request: \"Why did I drop/rise?\") */}\r\n                    <div className=\"bg-slate-800/30 p-4 rounded-2xl border border-slate-700/50\">\r\n                        <h3 className=\"text-xs font-bold text-nexus-300 uppercase mb-3 flex items-center gap-2\">\r\n                            📊 Comparativa Mensual (Mes Pasado vs Actual)\r\n                        </h3>\r\n                        <div className=\"space-y-3\">\r\n                            {/* Diamonds Row */}\r\n                            <div className=\"flex justify-between items-center text-sm border-b border-slate-700 pb-2\">\r\n                                <span className=\"text-slate-400\">Diamantes</span>\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Mes Pasado</p>\r\n                                        <p className=\"font-mono text-slate-300\">{creator.lastMonthDiamonds.toLocaleString()}</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Este Mes</p>\r\n                                        <p className=\"font-mono font-bold text-white\">{creator.diamonds.toLocaleString()}</p>\r\n                                    </div>\r\n                                    <div className={`px-2 py-1 rounded-lg text-xs font-bold ${creator.diamondsGrowth >= 0 ? 'bg-emerald-500/10 text-emerald-400' : 'bg-red-500/10 text-red-400'}`}>\r\n                                        {creator.diamondsGrowth >= 0 ? '+' : ''}{(creator.diamondsGrowth * 100).toFixed(1)}%\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Hours Row */}\r\n                            <div className=\"flex justify-between items-center text-sm border-b border-slate-700 pb-2\">\r\n                                <span className=\"text-slate-400\">Horas Transmitidas</span>\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Mes Pasado</p>\r\n                                        <p className=\"font-mono text-slate-300\">{creator.lastMonthLiveHours.toFixed(1)}h</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Este Mes</p>\r\n                                        <p className=\"font-mono font-bold text-white\">{creator.liveHours.toFixed(1)}h</p>\r\n                                    </div>\r\n                                    <div className={`px-2 py-1 rounded-lg text-xs font-bold ${creator.liveHoursGrowth >= 0 ? 'bg-emerald-500/10 text-emerald-400' : 'bg-red-500/10 text-red-400'}`}>\r\n                                        {creator.liveHoursGrowth >= 0 ? '+' : ''}{(creator.liveHoursGrowth * 100).toFixed(1)}%\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Days Row */}\r\n                            <div className=\"flex justify-between items-center text-sm\">\r\n                                <span className=\"text-slate-400\">Días Válidos</span>\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Mes Pasado</p>\r\n                                        <p className=\"font-mono text-slate-300\">{creator.lastMonthValidDays}d</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-[10px] text-slate-500\">Este Mes</p>\r\n                                        <p className=\"font-mono font-bold text-white\">{creator.validDays}d</p>\r\n                                    </div>\r\n                                    <div className={`px-2 py-1 rounded-lg text-xs font-bold ${creator.validDaysGrowth >= 0 ? 'bg-emerald-500/10 text-emerald-400' : 'bg-red-500/10 text-red-400'}`}>\r\n                                        {creator.validDaysGrowth >= 0 ? '+' : ''}{(creator.validDaysGrowth * 100).toFixed(1)}%\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* AI Insight Section */}\r\n                    <div className={`p-5 rounded-2xl border ${category === 'RISK' ? 'bg-red-950/20 border-red-500/30' : category === 'ELITE' ? 'bg-emerald-950/20 border-emerald-500/30' : 'bg-slate-800/40 border-slate-700'}`}>\r\n                        <h3 className=\"text-sm font-bold text-white mb-3 flex items-center gap-2\">\r\n                            <MessageCircle className=\"w-4 h-4 text-nexus-400\" />\r\n                            Análisis de Inteligencia\r\n                        </h3>\r\n                        <div className=\"flex gap-3\">\r\n                            <div className={`min-w-[4px] rounded-full ${category === 'ELITE' ? 'bg-emerald-500' : category === 'RISK' ? 'bg-red-500' : 'bg-nexus-500/50'}`} />\r\n                            <p className=\"text-slate-300 text-sm leading-relaxed italic\">\r\n                                \"{advice}\"\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Footer / Actions */}\r\n                <div className=\"p-6 bg-slate-900 border-t border-slate-800 shrink-0\">\r\n                    {/* Phone Editor */}\r\n                    <div className=\"flex items-center gap-2 bg-slate-950 p-3 rounded-xl border border-slate-800 mb-4 transition-all focus-within:border-nexus-500/50\">\r\n                        <Phone className=\"w-4 h-4 text-slate-500\" />\r\n                        <span className=\"text-slate-600 text-sm font-medium\">WhatsApp:</span>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={phone}\r\n                            onChange={(e) => setPhone(e.target.value)}\r\n                            disabled={!isEditingPhone}\r\n                            placeholder=\"Ej: 573001234567\"\r\n                            className=\"bg-transparent border-none focus:ring-0 text-sm text-white flex-1 placeholder-slate-600 font-mono focus:outline-none\"\r\n                        />\r\n                        {isEditingPhone ? (\r\n                            <button onClick={handleSavePhone} className=\"bg-emerald-600 hover:bg-emerald-500 text-white p-1.5 rounded-lg transition-colors\"><Save className=\"w-4 h-4\" /></button>\r\n                        ) : (\r\n                            <button onClick={() => setIsEditingPhone(true)} className=\"text-nexus-400 text-xs hover:text-nexus-300 font-medium px-2 py-1 hover:bg-nexus-500/10 rounded\">Editar</button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                        <button\r\n                            onClick={handleCopy}\r\n                            className=\"bg-slate-800 hover:bg-slate-700 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all border border-slate-700 hover:border-slate-600\"\r\n                        >\r\n                            {copied ? <span className=\"text-emerald-400 font-bold\">¡Copiado!</span> : <><Copy className=\"w-4 h-4\" /> Copiar</>}\r\n                        </button>\r\n                        <button\r\n                            onClick={handleDownloadCard}\r\n                            disabled={isDownloading}\r\n                            className=\"bg-slate-800 hover:bg-slate-700 text-white font-medium py-3 rounded-xl flex items-center justify-center gap-2 transition-all border border-slate-700 hover:border-slate-600\"\r\n                        >\r\n                            {isDownloading ? <span className=\"animate-pulse\">Generando...</span> : <><Download className=\"w-4 h-4\" /> Tarjeta</>}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => window.open(whatsappLink, '_blank')}\r\n                            className={`col-span-2 text-white font-bold py-3 rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg ${phone.length > 5 ? 'bg-emerald-600 hover:bg-emerald-500 shadow-emerald-900/20' : 'bg-slate-700 cursor-not-allowed opacity-50'}`}\r\n                        >\r\n                            <MessageCircle className=\"w-4 h-4\" /> Enviar Chat\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/Podium.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Creator } from '@/types';\r\nimport { Trophy, Medal, Crown, Star, Sparkles, TrendingUp, Flame, Zap, Binary, Diamond } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nexport default function Podium({ top3 }: { top3: Creator[] }) {\r\n    if (!top3 || top3.length === 0) return null;\r\n\r\n    const [first, second, third] = top3;\r\n\r\n    // Helper for safe username (for file paths)\r\n    const getSafeName = (name: string) => name.replace(/[^a-zA-Z0-9_\\.]/g, '');\r\n\r\n    return (\r\n        <div className=\"relative py-8 md:py-16 mb-16 px-4 group/podium scale-[0.8] md:scale-95 origin-top\" style={{ color: '#ffffff', perspective: '2000px' }}>\r\n\r\n            {/* --- ADVANCED TECH-MATRIX BACKGROUND --- */}\r\n            <div className=\"absolute inset-0 -z-20 overflow-hidden pointer-events-none rounded-[3rem] md:rounded-[5rem]\" style={{ backgroundColor: '#020617' }}>\r\n                <motion.div\r\n                    animate={{ opacity: [0.1, 0.2, 0.1], scale: [1, 1.05, 1] }}\r\n                    transition={{ duration: 6, repeat: Infinity, ease: \"easeInOut\" }}\r\n                    className=\"absolute inset-0\"\r\n                    style={{\r\n                        backgroundImage: `linear-gradient(#0ea5e911 1px, transparent 1px), linear-gradient(90deg, #0ea5e911 1px, transparent 1px)`,\r\n                        backgroundSize: '40px 40px',\r\n                        transform: 'perspective(800px) rotateX(65deg) translateY(-60px)',\r\n                        transformOrigin: 'top'\r\n                    }}\r\n                />\r\n                <div className=\"absolute top-0 left-0 w-full h-full\" style={{ background: 'radial-gradient(circle at 50% 50%, transparent 20%, #020617 100%)' }} />\r\n            </div>\r\n\r\n            {/* Header section */}\r\n            <motion.div\r\n                initial={{ opacity: 0, y: -20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                className=\"text-center mb-16 relative\"\r\n            >\r\n                <div\r\n                    className=\"inline-flex items-center gap-2 px-6 py-2 rounded-full mb-4 border\"\r\n                    style={{\r\n                        backgroundColor: 'rgba(0,0,0,0.8)',\r\n                        borderColor: 'rgba(34,211,238,0.2)',\r\n                        backdropFilter: 'blur(20px)',\r\n                    }}\r\n                >\r\n                    <Binary className=\"w-4 h-4\" color=\"#22d3ee\" strokeWidth={3} />\r\n                    <span className=\"text-[9px] font-black tracking-[0.4em] uppercase italic\" style={{ color: '#22d3ee' }}>\r\n                        NEXUS COMMAND CENTER\r\n                    </span>\r\n                    <Binary className=\"w-4 h-4\" color=\"#22d3ee\" strokeWidth={3} />\r\n                </div>\r\n\r\n                <h3 className=\"text-3xl md:text-5xl font-black tracking-tighter uppercase leading-none\">\r\n                    <span style={{\r\n                        background: 'linear-gradient(to bottom, #ffffff, #94a3b8)',\r\n                        WebkitBackgroundClip: 'text',\r\n                        WebkitTextFillColor: 'transparent'\r\n                    }}>\r\n                        RANKING <span style={{ color: '#22d3ee', WebkitTextFillColor: '#22d3ee' }}>ÉLITE</span>\r\n                    </span>\r\n                </h3>\r\n            </motion.div>\r\n\r\n            <div className=\"flex flex-col md:grid md:grid-cols-3 gap-6 md:gap-8 items-center md:items-end max-w-6xl mx-auto relative z-10\">\r\n\r\n                {/* --- 2nd Place (Silver) --- */}\r\n                {second && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        whileInView={{ opacity: 1, scale: 1 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"order-2 md:order-1 relative w-full max-w-[320px] md:max-w-none\"\r\n                    >\r\n                        <div\r\n                            className=\"relative overflow-hidden rounded-[2.5rem] p-6 border-2 flex flex-col items-center h-[420px] md:h-[460px] justify-between\"\r\n                            style={{\r\n                                backgroundColor: 'rgba(15,23,42,0.95)',\r\n                                borderColor: 'rgba(148,163,184,0.3)',\r\n                                boxShadow: '0 20px 40px rgba(0,0,0,0.5)'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex flex-col items-center w-full\">\r\n                                <div className=\"relative mb-6\">\r\n                                    <div className=\"w-28 h-28 md:w-32 md:h-32 rounded-full p-2 relative z-10\" style={{ background: 'linear-gradient(135deg, #f1f5f9, #94a3b8)', boxShadow: '0 0 30px rgba(148,163,184,0.3)' }}>\r\n                                        <div className=\"w-full h-full rounded-full overflow-hidden border-4\" style={{ borderColor: '#020617', backgroundColor: '#1e293b' }}>\r\n                                            <img\r\n                                                src={`/foto_perfil/${getSafeName(second.username)}.jpg`}\r\n                                                onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                                                className=\"w-full h-full object-cover\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* LOWERED BADGE */}\r\n                                    <div className=\"absolute -bottom-10 left-1/2 -translate-x-1/2 min-w-[140px]\">\r\n                                        <div className=\"px-5 py-1.5 rounded-xl font-black border-2 shadow-2xl text-[10px] md:text-xs uppercase italic whitespace-nowrap text-center\"\r\n                                            style={{ backgroundColor: '#f1f5f9', color: '#020617', borderColor: '#94a3b8' }}>\r\n                                            TOP 2 ELITE\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-6 text-center\">\r\n                                    <h3 className=\"font-black text-xl md:text-2xl tracking-tighter w-full mb-1 truncate px-4\" style={{ color: '#ffffff' }}>\r\n                                        {second.username}\r\n                                    </h3>\r\n                                    <p className=\"text-[8px] uppercase font-black tracking-[0.4em] mb-4\" style={{ color: '#64748b' }}>Unidad Platinum</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"w-full px-2\">\r\n                                <div className=\"px-4 py-3 rounded-2xl border flex items-center justify-center gap-2\"\r\n                                    style={{ backgroundColor: 'rgba(0,0,0,0.4)', borderColor: 'rgba(148,163,184,0.1)' }}>\r\n                                    <span className=\"text-xl md:text-2xl font-mono font-black\" style={{ color: '#f1f5f9' }}>\r\n                                        {second.diamonds.toLocaleString()}\r\n                                    </span>\r\n                                    <Diamond className=\"w-4 h-4 md:w-5 md:h-5\" color=\"#22d3ee\" fill=\"rgba(34,211,238,0.2)\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* --- 1st Place (Gold) --- */}\r\n                {first && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, y: 30 }}\r\n                        whileInView={{ opacity: 1, y: 0 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"order-1 md:order-2 z-20 relative w-full max-w-[360px] md:max-w-none\"\r\n                    >\r\n                        <div\r\n                            className=\"relative overflow-hidden rounded-[3.5rem] md:rounded-[4rem] p-1 border-2\"\r\n                            style={{\r\n                                background: 'linear-gradient(135deg, #fef08a, #eab308, #b45309)',\r\n                                borderColor: 'rgba(250,204,21,0.4)',\r\n                                boxShadow: '0 0 60px rgba(234,179,8,0.2)'\r\n                            }}\r\n                        >\r\n                            <div className=\"rounded-[3.4rem] md:rounded-[3.8rem] p-8 md:p-12 relative overflow-hidden flex flex-col items-center h-[580px] md:h-[620px] justify-between\" style={{ backgroundColor: '#020617' }}>\r\n                                <div className=\"flex flex-col items-center w-full\">\r\n                                    <div className=\"relative mb-10\">\r\n                                        <motion.div animate={{ y: [-10, 5, -10] }} transition={{ duration: 4, repeat: Infinity }} className=\"absolute -top-16 left-1/2 -translate-x-1/2 z-30\">\r\n                                            <Crown className=\"w-16 h-16 md:w-20 md:h-20\" color=\"#facc15\" fill=\"rgba(234,179,8,0.3)\" />\r\n                                        </motion.div>\r\n\r\n                                        <div className=\"w-40 h-40 md:w-48 md:h-48 rounded-full p-2.5 relative z-10\" style={{ background: 'linear-gradient(135deg, #fde68a, #f59e0b)', boxShadow: '0 0 50px rgba(234,179,8,0.4)' }}>\r\n                                            <div className=\"w-full h-full rounded-full overflow-hidden border-[6px]\" style={{ borderColor: '#451a03', backgroundColor: '#020617' }}>\r\n                                                <img\r\n                                                    src={`/foto_perfil/${getSafeName(first.username)}.jpg`}\r\n                                                    onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                                                    className=\"w-full h-full object-cover\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* LOWERED BADGE */}\r\n                                        <div className=\"absolute -bottom-12 left-1/2 -translate-x-1/2 w-[240px] md:w-[320px]\">\r\n                                            <div className=\"p-[2px] rounded-xl md:rounded-[1.5rem]\" style={{ background: 'linear-gradient(90deg, #ca8a04, #ffffff, #ca8a04)' }}>\r\n                                                <div className=\"px-6 md:px-8 py-2 md:py-3 rounded-[0.9rem] md:rounded-[1.4rem] font-black text-lg md:text-2xl tracking-tighter uppercase italic text-center\"\r\n                                                    style={{ backgroundColor: '#451a03', color: '#fef08a' }}>\r\n                                                    LEYENDA SUPREMA\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"mt-8 text-center\">\r\n                                        <h3 className=\"font-black text-3xl md:text-4xl tracking-tighter w-full mb-1 truncate px-4\" style={{ color: '#ffffff' }}>\r\n                                            {first.username}\r\n                                        </h3>\r\n                                        <p className=\"text-[10px] uppercase font-black tracking-[0.6em] mb-6\" style={{ color: 'rgba(234,179,8,0.6)' }}>Supreme Command</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"w-full px-4\">\r\n                                    <div className=\"px-8 py-5 md:px-10 md:py-6 rounded-[2rem] md:rounded-[2.5rem] border-2 flex items-center justify-center gap-3 md:gap-4\"\r\n                                        style={{ backgroundColor: 'rgba(234,179,8,0.1)', borderColor: 'rgba(234,179,8,0.3)' }}>\r\n                                        <span className=\"text-4xl md:text-5xl font-mono font-black\" style={{ color: '#ffffff' }}>\r\n                                            {first.diamonds.toLocaleString()}\r\n                                        </span>\r\n                                        <Diamond className=\"w-8 h-8 md:w-10 md:h-10\" color=\"#22d3ee\" fill=\"rgba(34,211,238,0.2)\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* --- 3rd Place (Bronze) --- */}\r\n                {third && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        whileInView={{ opacity: 1, scale: 1 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"order-3 relative w-full max-w-[320px] md:max-w-none\"\r\n                    >\r\n                        <div\r\n                            className=\"relative overflow-hidden rounded-[2.5rem] p-6 border-2 flex flex-col items-center h-[380px] md:h-[420px] justify-between\"\r\n                            style={{\r\n                                backgroundColor: 'rgba(26,20,16,0.95)',\r\n                                borderColor: 'rgba(234,88,12,0.3)',\r\n                                boxShadow: '0 20px 40px rgba(0,0,0,0.5)'\r\n                            }}\r\n                        >\r\n                            <div className=\"flex flex-col items-center w-full\">\r\n                                <div className=\"relative mb-6\">\r\n                                    <div className=\"w-24 h-24 md:w-28 md:h-28 rounded-full p-2 relative z-10\" style={{ background: 'linear-gradient(135deg, #fdba74, #7c2d12)', boxShadow: '0 0 30px rgba(234,88,12,0.3)' }}>\r\n                                        <div className=\"w-full h-full rounded-full overflow-hidden border-4\" style={{ borderColor: '#1a1410', backgroundColor: '#110c0a' }}>\r\n                                            <img\r\n                                                src={`/foto_perfil/${getSafeName(third.username)}.jpg`}\r\n                                                onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                                                className=\"w-full h-full object-cover\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    {/* LOWERED BADGE */}\r\n                                    <div className=\"absolute -bottom-10 left-1/2 -translate-x-1/2 min-w-[140px]\">\r\n                                        <div className=\"px-5 py-1.5 rounded-xl font-black border-2 shadow-xl text-[10px] md:text-xs uppercase italic whitespace-nowrap text-center\"\r\n                                            style={{ backgroundColor: '#ea580c', color: '#ffffff', borderColor: '#fb923c' }}>\r\n                                            TOP 3 ELITE\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"mt-6 text-center\">\r\n                                    <h3 className=\"font-black text-xl md:text-2xl tracking-tighter w-full mb-1 truncate px-4\" style={{ color: '#ffffff' }}>\r\n                                        {third.username}\r\n                                    </h3>\r\n                                    <p className=\"text-[8px] uppercase font-black tracking-[0.4em] mb-4\" style={{ color: 'rgba(234,88,12,0.4)' }}>Unidad Alpha</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"w-full px-2\">\r\n                                <div className=\"px-4 py-3 rounded-2xl border flex items-center justify-center gap-2\"\r\n                                    style={{ backgroundColor: 'rgba(0,0,0,0.4)', borderColor: 'rgba(234,88,12,0.1)' }}>\r\n                                    <span className=\"text-xl md:text-2xl font-mono font-black\" style={{ color: '#fb923c' }}>\r\n                                        {third.diamonds.toLocaleString()}\r\n                                    </span>\r\n                                    <Diamond className=\"w-4 h-4 md:w-5 md:h-5\" color=\"#22d3ee\" fill=\"rgba(34,211,238,0.2)\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4056, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/RankingCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Creator } from '@/types';\r\nimport { forwardRef } from 'react';\r\nimport { Diamond, Zap, Crown, ArrowUpRight, ArrowDownRight } from 'lucide-react';\r\n\r\nexport const RankingCard = forwardRef<HTMLDivElement, { creators: Creator[] }>(({ creators }, ref) => {\r\n    return (\r\n        <div\r\n            ref={ref}\r\n            className=\"w-[1080px] h-[2200px] relative overflow-hidden flex flex-col font-sans\"\r\n            style={{\r\n                backgroundColor: '#020617',\r\n                color: '#ffffff'\r\n            }}\r\n        >\r\n            {/* --- TECH-MATRIX EXPORT BACKGROUND --- */}\r\n            <div className=\"absolute inset-0\" style={{ background: 'linear-gradient(to bottom, #020617 0%, #060b18 100%)' }}></div>\r\n\r\n            <div\r\n                className=\"absolute inset-0\"\r\n                style={{\r\n                    opacity: '0.02',\r\n                    backgroundImage: 'linear-gradient(#22d3ee22 1px, transparent 1px), linear-gradient(90deg, #22d3ee22 1px, transparent 1px)',\r\n                    backgroundSize: '80px 80px',\r\n                    transform: 'rotate(-5deg) scale(2)',\r\n                    transformOrigin: 'center'\r\n                }}\r\n            />\r\n\r\n            {/* --- PREMIUM DECORATIVE FRAME --- */}\r\n            <div className=\"absolute inset-2 border-[1px] opacity-5 pointer-events-none\" style={{ borderColor: '#22d3ee' }}></div>\r\n            <div className=\"absolute top-2 left-2 w-16 h-16 border-t-[4px] border-l-[4px]\" style={{ borderColor: '#facc15' }}></div>\r\n            <div className=\"absolute top-2 right-2 w-16 h-16 border-t-[4px] border-r-[4px]\" style={{ borderColor: '#facc15' }}></div>\r\n            <div className=\"absolute bottom-2 left-2 w-16 h-16 border-b-[4px] border-l-[4px]\" style={{ borderColor: '#facc15' }}></div>\r\n            <div className=\"absolute bottom-2 right-2 w-16 h-16 border-b-[4px] border-r-[4px]\" style={{ borderColor: '#facc15' }}></div>\r\n\r\n            {/* Content Body */}\r\n            <div className=\"relative z-10 flex flex-col h-full px-12\">\r\n\r\n                {/* --- Header Section --- */}\r\n                <div className=\"text-center pt-28 pb-10\">\r\n                    <div className=\"flex items-center justify-center gap-6 mb-6\">\r\n                        <Zap className=\"w-12 h-12\" color=\"#facc15\" fill=\"#facc1533\" />\r\n                        <span className=\"uppercase tracking-[1.8em] text-xl font-black italic\" style={{ color: '#22d3ee' }}>\r\n                            NEXUS COMMAND CENTER\r\n                        </span>\r\n                        <Zap className=\"w-12 h-12\" color=\"#facc15\" fill=\"#facc1533\" />\r\n                    </div>\r\n\r\n                    <h1 className=\"text-[145px] font-black tracking-tighter uppercase leading-[0.65] mb-8\" style={{\r\n                        background: 'linear-gradient(to bottom, #ffffff, #94a3b8)',\r\n                        WebkitBackgroundClip: 'text',\r\n                        WebkitTextFillColor: 'transparent'\r\n                    }}>\r\n                        RANKING<br />DIAMANTE\r\n                    </h1>\r\n                    <div\r\n                        className=\"inline-block px-10 py-3 rounded-full border\"\r\n                        style={{\r\n                            borderColor: 'rgba(34,211,238,0.2)',\r\n                            backgroundColor: 'rgba(34,211,238,0.05)'\r\n                        }}\r\n                    >\r\n                        <p className=\"text-2xl font-mono tracking-[0.4em] uppercase font-black\" style={{ color: '#22d3ee' }}>FEBRERO 2026</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* --- Ranking List --- */}\r\n                <div className=\"space-y-4 flex-1\">\r\n                    {creators.slice(0, 10).map((creator, index) => {\r\n                        const dailyDelta = creator.dailyDiamondsChange || 0;\r\n                        const momGrowth = (creator.diamondsGrowth || 0) * 100;\r\n\r\n                        let displayGrowth = momGrowth;\r\n                        if (dailyDelta !== 0 && creator.diamonds > 0) {\r\n                            const prevVal = creator.diamonds - dailyDelta;\r\n                            if (prevVal > 0) {\r\n                                displayGrowth = (dailyDelta / prevVal) * 100;\r\n                            }\r\n                        }\r\n\r\n                        const isPositive = displayGrowth >= 0;\r\n\r\n                        return (\r\n                            <div\r\n                                key={creator.creatorId}\r\n                                className=\"flex items-center p-3 rounded-[2.5rem] border relative overflow-hidden h-[155px]\"\r\n                                style={{\r\n                                    background: 'rgba(15,23,42,0.6)',\r\n                                    borderColor: index === 0 ? '#eab308aa' : index === 1 ? '#94a3b8aa' : index === 2 ? '#ea580caa' : 'rgba(255,255,255,0.1)'\r\n                                }}\r\n                            >\r\n                                {/* Puesto */}\r\n                                <div className=\"w-20 flex-shrink-0 text-center flex flex-col items-center justify-center\">\r\n                                    <span className=\"text-[56px] font-black italic leading-none\" style={{\r\n                                        color: index === 0 ? '#facc15' :\r\n                                            index === 1 ? '#cbd5e1' :\r\n                                                index === 2 ? '#fb923c' : '#334155'\r\n                                    }}>\r\n                                        #{index + 1}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* Photo */}\r\n                                <div className=\"w-24 h-24 rounded-full border-[4px] relative flex-shrink-0 mx-2\"\r\n                                    style={{\r\n                                        borderColor: index === 0 ? '#eab308' : index === 1 ? '#94a3b8' : index === 2 ? '#ea580c' : '#1e293b',\r\n                                        backgroundColor: '#020617'\r\n                                    }}>\r\n                                    <img\r\n                                        src={creator.avatar || `/foto_perfil/${creator.username.replace(/[^a-zA-Z0-9_\\.]/g, '')}.jpg`}\r\n                                        onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                                        className=\"w-full h-full rounded-full object-cover\"\r\n                                    />\r\n                                    {index === 0 && <Crown className=\"absolute -top-8 -right-4 w-14 h-14 rotate-12\" color=\"#facc15\" fill=\"#facc1533\" />}\r\n                                </div>\r\n\r\n                                {/* Horizontal Layout: Name -> Diamonds -> Growth */}\r\n                                <div className=\"flex-1 min-w-0 flex items-center justify-between ml-6 mr-8\">\r\n                                    {/* Name */}\r\n                                    <div className=\"flex-1 min-w-0 mr-8 flex flex-col justify-center\">\r\n                                        <h2 className=\"text-[46px] font-black tracking-tighter leading-tight truncate pb-4\" style={{ color: '#ffffff', margin: 0 }}>\r\n                                            {creator.username}\r\n                                        </h2>\r\n                                    </div>\r\n\r\n                                    {/* Metrics Group */}\r\n                                    <div className=\"flex items-center gap-8 flex-shrink-0\">\r\n                                        {/* Diamonds */}\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <span className=\"text-[48px] font-mono font-black leading-none tracking-tighter\" style={{ color: '#e2e8f0' }}>\r\n                                                {creator.diamonds.toLocaleString()}\r\n                                            </span>\r\n                                            <Diamond className=\"w-8 h-8\" color=\"#22d3ee\" fill=\"#22d3ee33\" />\r\n                                        </div>\r\n\r\n                                        {/* Separator */}\r\n                                        <div className=\"h-[40px] w-[2px] rounded-full\" style={{ backgroundColor: 'rgba(255,255,255,0.15)' }}></div>\r\n\r\n                                        {/* Growth */}\r\n                                        <div className=\"flex items-center gap-2 min-w-[140px] justify-end\">\r\n                                            <span className=\"text-[42px] font-black leading-none\" style={{ color: isPositive ? '#10b981' : '#f43f5e' }}>\r\n                                                {Math.abs(Math.round(displayGrowth))}%\r\n                                            </span>\r\n                                            {isPositive\r\n                                                ? <ArrowUpRight className=\"w-8 h-8\" color=\"#10b981\" strokeWidth={5} />\r\n                                                : <ArrowDownRight className=\"w-8 h-8\" color=\"#f43f5e\" strokeWidth={5} />\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n\r\n                {/* --- Footer --- */}\r\n                <div className=\"mt-auto py-8 text-center\">\r\n                    <div className=\"flex items-center justify-center gap-12 font-mono text-xl uppercase tracking-[1em]\" style={{ color: '#4d5c70' }}>\r\n                        <span className=\"font-bold\">NX-FEB26</span>\r\n                        <div className=\"w-4 h-4 rounded-full\" style={{ backgroundColor: '#22d3ee' }}></div>\r\n                        <span className=\"italic\">SYSTEM VERIFIED</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nRankingCard.displayName = 'RankingCard';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/BattleChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n    BarChart, Bar, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, Legend\r\n} from 'recharts';\r\nimport { Creator } from '@/types';\r\nimport { useMemo } from 'react';\r\n\r\ninterface ChartProps {\r\n    creators: Creator[];\r\n}\r\n\r\nexport default function BattleChart({ creators }: ChartProps) {\r\n    const data = useMemo(() => {\r\n        return creators\r\n            .sort((a, b) => b.diamonds - a.diamonds)\r\n            .slice(0, 10)\r\n            .map(c => ({\r\n                name: c.username.length > 10 ? c.username.substring(0, 10) + '...' : c.username,\r\n                Battle: c.battleDiamonds || 0,\r\n                Solo: (c.diamonds - (c.battleDiamonds || 0)) < 0 ? 0 : (c.diamonds - (c.battleDiamonds || 0)),\r\n                fullValue: c.diamonds\r\n            }));\r\n    }, [creators]);\r\n\r\n    return (\r\n        <div className=\"h-[350px] w-full bg-slate-900/50 p-4 rounded-3xl border border-slate-800\">\r\n            <h3 className=\"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2\">\r\n                <span className=\"w-2 h-8 bg-orange-500 rounded-full\"></span>\r\n                Análisis de Batallas vs Solo\r\n            </h3>\r\n            <ResponsiveContainer width=\"100%\" height=\"85%\">\r\n                <BarChart data={data} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#334155\" vertical={false} opacity={0.5} />\r\n                    <XAxis\r\n                        dataKey=\"name\"\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                    />\r\n                    <YAxis\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                        tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}\r\n                    />\r\n                    <Tooltip\r\n                        cursor={{ fill: 'rgba(56, 189, 248, 0.1)' }}\r\n                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#1e293b', color: '#f8fafc', borderRadius: '12px' }}\r\n                        itemStyle={{ color: '#f8fafc' }}\r\n                        formatter={(value: number | undefined) => [value?.toLocaleString() || '0', 'Diamantes']}\r\n                    />\r\n                    <Legend iconType=\"circle\" />\r\n                    <Bar dataKey=\"Solo\" stackId=\"a\" fill=\"#3b82f6\" name=\"Contenido Solo\" radius={[0, 0, 4, 4]} />\r\n                    <Bar dataKey=\"Battle\" stackId=\"a\" fill=\"#f97316\" name=\"Batallas (PK)\" radius={[4, 4, 0, 0]} />\r\n                </BarChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;AANA;;;AAYe,SAAS,YAAY,EAAE,QAAQ,EAAc;;IACxD,MAAM,OAAO,IAAA,8LAAO;qCAAC;YACjB,OAAO,SACF,IAAI;6CAAC,CAAC,GAAG,IAAM,EAAE,QAAQ,GAAG,EAAE,QAAQ;4CACtC,KAAK,CAAC,GAAG,IACT,GAAG;6CAAC,CAAA,IAAK,CAAC;wBACP,MAAM,EAAE,QAAQ,CAAC,MAAM,GAAG,KAAK,EAAE,QAAQ,CAAC,SAAS,CAAC,GAAG,MAAM,QAAQ,EAAE,QAAQ;wBAC/E,QAAQ,EAAE,cAAc,IAAI;wBAC5B,MAAM,AAAC,EAAE,QAAQ,GAAG,CAAC,EAAE,cAAc,IAAI,CAAC,IAAK,IAAI,IAAK,EAAE,QAAQ,GAAG,CAAC,EAAE,cAAc,IAAI,CAAC;wBAC3F,WAAW,EAAE,QAAQ;oBACzB,CAAC;;QACT;oCAAG;QAAC;KAAS;IAEb,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBAAG,WAAU;;kCACV,mNAAC;wBAAK,WAAU;;;;;;oBAA4C;;;;;;;0BAGhE,mNAAC,mNAAmB;gBAAC,OAAM;gBAAO,QAAO;0BACrC,cAAA,mNAAC,yLAAQ;oBAAC,MAAM;oBAAM,QAAQ;wBAAE,KAAK;wBAAI,OAAO;wBAAI,MAAM;wBAAI,QAAQ;oBAAE;;sCACpE,mNAAC,uMAAa;4BAAC,iBAAgB;4BAAM,QAAO;4BAAU,UAAU;4BAAO,SAAS;;;;;;sCAChF,mNAAC,uLAAK;4BACF,SAAQ;4BACR,QAAO;4BACP,UAAU;4BACV,UAAU;4BACV,UAAU;;;;;;sCAEd,mNAAC,uLAAK;4BACF,QAAO;4BACP,UAAU;4BACV,UAAU;4BACV,UAAU;4BACV,eAAe,CAAC,QAAU,GAAG,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;;;;;;sCAE7D,mNAAC,2LAAO;4BACJ,QAAQ;gCAAE,MAAM;4BAA0B;4BAC1C,cAAc;gCAAE,iBAAiB;gCAAW,aAAa;gCAAW,OAAO;gCAAW,cAAc;4BAAO;4BAC3G,WAAW;gCAAE,OAAO;4BAAU;4BAC9B,WAAW,CAAC,QAA8B;oCAAC,OAAO,oBAAoB;oCAAK;iCAAY;;;;;;sCAE3F,mNAAC,yLAAM;4BAAC,UAAS;;;;;;sCACjB,mNAAC,mLAAG;4BAAC,SAAQ;4BAAO,SAAQ;4BAAI,MAAK;4BAAU,MAAK;4BAAiB,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;;;;;;sCACzF,mNAAC,mLAAG;4BAAC,SAAQ;4BAAS,SAAQ;4BAAI,MAAK;4BAAU,MAAK;4BAAgB,QAAQ;gCAAC;gCAAG;gCAAG;gCAAG;6BAAE;;;;;;;;;;;;;;;;;;;;;;;AAK9G;GAjDwB;KAAA"}},
    {"offset": {"line": 4708, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/CohortChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n    ComposedChart, Bar, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid, Legend\r\n} from 'recharts';\r\nimport { Creator } from '@/types';\r\nimport { useMemo } from 'react';\r\n\r\ninterface ChartProps {\r\n    creators: Creator[];\r\n}\r\n\r\nexport default function CohortChart({ creators }: ChartProps) {\r\n    const data = useMemo(() => {\r\n        const cohorts = {\r\n            new: { name: 'Nuevos (<30d)', diamonds: 0, hours: 0, count: 0 },\r\n            mid: { name: 'Establecidos (30-90d)', diamonds: 0, hours: 0, count: 0 },\r\n            vet: { name: 'Veteranos (>90d)', diamonds: 0, hours: 0, count: 0 }\r\n        };\r\n\r\n        creators.forEach(c => {\r\n            if (c.daysSinceJoin <= 30) {\r\n                cohorts.new.diamonds += c.diamonds;\r\n                cohorts.new.hours += c.liveHours;\r\n                cohorts.new.count++;\r\n            } else if (c.daysSinceJoin <= 90) {\r\n                cohorts.mid.diamonds += c.diamonds;\r\n                cohorts.mid.hours += c.liveHours;\r\n                cohorts.mid.count++;\r\n            } else {\r\n                cohorts.vet.diamonds += c.diamonds;\r\n                cohorts.vet.hours += c.liveHours;\r\n                cohorts.vet.count++;\r\n            }\r\n        });\r\n\r\n        const format = (cohort: any) => ({\r\n            name: cohort.name,\r\n            avgDiamonds: cohort.count ? Math.round(cohort.diamonds / cohort.count) : 0,\r\n            avgHours: cohort.count ? Number((cohort.hours / cohort.count).toFixed(1)) : 0,\r\n            count: cohort.count\r\n        });\r\n\r\n        return [format(cohorts.new), format(cohorts.mid), format(cohorts.vet)];\r\n    }, [creators]);\r\n\r\n    return (\r\n        <div className=\"h-[350px] w-full bg-slate-900/50 p-4 rounded-3xl border border-slate-800\">\r\n            <h3 className=\"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2\">\r\n                <span className=\"w-2 h-8 bg-purple-500 rounded-full\"></span>\r\n                Análisis de Rendimiento por Antigüedad\r\n            </h3>\r\n            <ResponsiveContainer width=\"100%\" height=\"85%\">\r\n                <ComposedChart data={data} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#334155\" vertical={false} opacity={0.5} />\r\n                    <XAxis\r\n                        dataKey=\"name\"\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                    />\r\n                    <YAxis\r\n                        yAxisId=\"left\"\r\n                        stroke=\"#94a3b8\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                        tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}\r\n                    />\r\n                    <YAxis\r\n                        yAxisId=\"right\"\r\n                        orientation=\"right\"\r\n                        stroke=\"#10b981\"\r\n                        fontSize={12}\r\n                        tickLine={false}\r\n                        axisLine={false}\r\n                        unit=\"h\"\r\n                    />\r\n                    <Tooltip\r\n                        cursor={{ fill: 'rgba(168, 85, 247, 0.1)' }}\r\n                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#1e293b', color: '#f8fafc', borderRadius: '12px' }}\r\n                        itemStyle={{ color: '#f8fafc' }}\r\n                        formatter={(value: number | undefined, name: string | undefined) => [\r\n                            value?.toLocaleString() || '0',\r\n                            name === 'avgDiamonds' ? 'Promedio Diamantes' : 'Promedio Horas'\r\n                        ]}\r\n                    />\r\n                    <Legend iconType=\"circle\" />\r\n                    <Bar yAxisId=\"left\" dataKey=\"avgDiamonds\" fill=\"#8b5cf6\" name=\"Promedio Diamantes\" barSize={40} radius={[8, 8, 0, 0]} />\r\n                    <Line yAxisId=\"right\" type=\"monotone\" dataKey=\"avgHours\" stroke=\"#10b981\" strokeWidth={3} dot={{ r: 4, fill: '#10b981' }} name=\"Promedio Horas\" />\r\n                </ComposedChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4955, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/MultiGuestChart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport {\r\n    PieChart, Pie, Cell, Tooltip, ResponsiveContainer, Legend\r\n} from 'recharts';\r\nimport { Creator } from '@/types';\r\nimport { useMemo } from 'react';\r\n\r\ninterface ChartProps {\r\n    creators: Creator[];\r\n}\r\n\r\nconst COLORS = ['#3b82f6', '#10b981', '#a855f7', '#f97316'];\r\n\r\nexport default function MultiGuestChart({ creators }: ChartProps) {\r\n    const data = useMemo(() => {\r\n        let totalBattle = 0;\r\n        let totalMultiHost = 0;\r\n        let totalMultiGuest = 0;\r\n        let totalSolo = 0;\r\n\r\n        creators.forEach(c => {\r\n            totalBattle += c.battleDiamonds || 0;\r\n            totalMultiHost += c.multiGuestHostDiamonds || 0;\r\n            totalMultiGuest += c.multiGuestGuestDiamonds || 0;\r\n\r\n            // Derive Solo\r\n            const nonSolo = (c.battleDiamonds || 0) + (c.multiGuestDiamonds || 0);\r\n            const solo = c.diamonds - nonSolo;\r\n            totalSolo += solo > 0 ? solo : 0;\r\n        });\r\n\r\n        return [\r\n            { name: 'Solo Content', value: totalSolo },\r\n            { name: 'Multi-Guest (Host)', value: totalMultiHost },\r\n            { name: 'Multi-Guest (Guest)', value: totalMultiGuest },\r\n            { name: 'PK Battles', value: totalBattle },\r\n        ].filter(d => d.value > 0);\r\n    }, [creators]);\r\n\r\n    return (\r\n        <div className=\"h-[350px] w-full bg-slate-900/50 p-4 rounded-3xl border border-slate-800\">\r\n            <h3 className=\"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2\">\r\n                <span className=\"w-2 h-8 bg-emerald-500 rounded-full\"></span>\r\n                Distribución de Ingresos\r\n            </h3>\r\n            <ResponsiveContainer width=\"100%\" height=\"85%\">\r\n                <PieChart>\r\n                    <Pie\r\n                        data={data}\r\n                        cx=\"50%\"\r\n                        cy=\"50%\"\r\n                        innerRadius={60}\r\n                        outerRadius={100}\r\n                        fill=\"#8884d8\"\r\n                        paddingAngle={5}\r\n                        dataKey=\"value\"\r\n                    >\r\n                        {data.map((entry, index) => (\r\n                            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                        ))}\r\n                    </Pie>\r\n                    <Tooltip\r\n                        contentStyle={{ backgroundColor: '#0f172a', borderColor: '#1e293b', color: '#f8fafc', borderRadius: '12px' }}\r\n                        itemStyle={{ color: '#f8fafc' }}\r\n                        formatter={(value: number | undefined) => value?.toLocaleString() || '0'}\r\n                    />\r\n                    <Legend iconType=\"circle\" />\r\n                </PieChart>\r\n            </ResponsiveContainer>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;AANA;;;AAYA,MAAM,SAAS;IAAC;IAAW;IAAW;IAAW;CAAU;AAE5C,SAAS,gBAAgB,EAAE,QAAQ,EAAc;;IAC5D,MAAM,OAAO,IAAA,8LAAO;yCAAC;YACjB,IAAI,cAAc;YAClB,IAAI,iBAAiB;YACrB,IAAI,kBAAkB;YACtB,IAAI,YAAY;YAEhB,SAAS,OAAO;iDAAC,CAAA;oBACb,eAAe,EAAE,cAAc,IAAI;oBACnC,kBAAkB,EAAE,sBAAsB,IAAI;oBAC9C,mBAAmB,EAAE,uBAAuB,IAAI;oBAEhD,cAAc;oBACd,MAAM,UAAU,CAAC,EAAE,cAAc,IAAI,CAAC,IAAI,CAAC,EAAE,kBAAkB,IAAI,CAAC;oBACpE,MAAM,OAAO,EAAE,QAAQ,GAAG;oBAC1B,aAAa,OAAO,IAAI,OAAO;gBACnC;;YAEA,OAAO;gBACH;oBAAE,MAAM;oBAAgB,OAAO;gBAAU;gBACzC;oBAAE,MAAM;oBAAsB,OAAO;gBAAe;gBACpD;oBAAE,MAAM;oBAAuB,OAAO;gBAAgB;gBACtD;oBAAE,MAAM;oBAAc,OAAO;gBAAY;aAC5C,CAAC,MAAM;iDAAC,CAAA,IAAK,EAAE,KAAK,GAAG;;QAC5B;wCAAG;QAAC;KAAS;IAEb,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBAAG,WAAU;;kCACV,mNAAC;wBAAK,WAAU;;;;;;oBAA6C;;;;;;;0BAGjE,mNAAC,mNAAmB;gBAAC,OAAM;gBAAO,QAAO;0BACrC,cAAA,mNAAC,yLAAQ;;sCACL,mNAAC,+KAAG;4BACA,MAAM;4BACN,IAAG;4BACH,IAAG;4BACH,aAAa;4BACb,aAAa;4BACb,MAAK;4BACL,cAAc;4BACd,SAAQ;sCAEP,KAAK,GAAG,CAAC,CAAC,OAAO,sBACd,mNAAC,qLAAI;oCAAuB,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;mCAApD,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;sCAGlC,mNAAC,2LAAO;4BACJ,cAAc;gCAAE,iBAAiB;gCAAW,aAAa;gCAAW,OAAO;gCAAW,cAAc;4BAAO;4BAC3G,WAAW;gCAAE,OAAO;4BAAU;4BAC9B,WAAW,CAAC,QAA8B,OAAO,oBAAoB;;;;;;sCAEzE,mNAAC,yLAAM;4BAAC,UAAS;;;;;;;;;;;;;;;;;;;;;;;AAKrC;GA1DwB;KAAA"}},
    {"offset": {"line": 5119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/DecayView.tsx"],"sourcesContent":["import { Creator } from '@/types';\r\nimport { motion } from 'framer-motion';\r\nimport { X, Copy, MessageCircle, AlertTriangle, Clock, TrendingDown } from 'lucide-react';\r\nimport { generateAiAdvice } from '@/lib/analysis';\r\nimport { useState } from 'react';\r\n\r\ninterface DecayViewProps {\r\n    creators: Creator[];\r\n    onClose: () => void;\r\n}\r\n\r\nexport default function DecayView({ creators, onClose }: DecayViewProps) {\r\n    const [selectedMessage, setSelectedMessage] = useState<{ id: string, text: string } | null>(null);\r\n\r\n    const today = new Date();\r\n    const currentDay = today.getDate();\r\n    const daysInMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();\r\n    const expectedProgress = Math.round((currentDay / daysInMonth) * 100);\r\n\r\n    const handleGenerateMessage = (creator: Creator) => {\r\n        const message = generateAiAdvice(creator);\r\n        setSelectedMessage({ id: creator.creatorId, text: message });\r\n        navigator.clipboard.writeText(message);\r\n        // Could show a toast here in a real app\r\n    };\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm\">\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.95 }}\r\n                className=\"bg-slate-900 border border-red-900/50 w-full max-w-7xl h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col\"\r\n            >\r\n                {/* Header */}\r\n                <div className=\"p-6 border-b border-red-900/30 flex justify-between items-center bg-red-950/20\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-bold text-red-500 flex items-center gap-2\">\r\n                            <AlertTriangle className=\"w-6 h-6\" /> Centro de Recuperación ({creators.length})\r\n                        </h2>\r\n                        <div className=\"flex items-center gap-4 text-slate-400 text-sm mt-1\">\r\n                            <span>📅 Día {currentDay}/{daysInMonth}</span>\r\n                            <span className=\"text-red-400 font-bold\">🎯 Meta Experada: {expectedProgress}%</span>\r\n                        </div>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"p-2 hover:bg-white/10 rounded-full transition-colors\">\r\n                        <X className=\"w-6 h-6 text-slate-400\" />\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Grid */}\r\n                <div className=\"flex-1 overflow-y-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 custom-scrollbar\">\r\n                    {creators.map(creator => {\r\n                        const achieved = Math.round((creator.diamondsAchieved || 0) * 100);\r\n                        const dailyTrend = Math.round((creator.diamondsDailyTrend || 0) * 100);\r\n\r\n                        // Status: Critical if way behind schedule\r\n                        const isCritical = achieved < expectedProgress * 0.7;\r\n\r\n                        const isSelected = selectedMessage?.id === creator.creatorId;\r\n\r\n                        return (\r\n                            <div key={creator.creatorId} className={`bg-slate-950 border rounded-xl p-4 transition-all group ${isCritical ? 'border-red-600/50 shadow-[0_0_10px_rgba(220,38,38,0.1)]' : 'border-red-900/20'}`}>\r\n                                <div className=\"flex items-center gap-3 mb-4\">\r\n                                    <div className=\"w-12 h-12 rounded-full overflow-hidden border-2 border-red-500/30\">\r\n                                        <img\r\n                                            src={`/foto_perfil/${creator.username.replace(/[^a-zA-Z0-9_\\.]/g, '')}.jpg`}\r\n                                            alt={creator.username}\r\n                                            className=\"w-full h-full object-cover\"\r\n                                            onError={(e) => e.currentTarget.src = '/default-user.png'}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"min-w-0 flex-1\">\r\n                                        <h3 className=\"font-bold text-white truncate\">{creator.username}</h3>\r\n                                        {/* Progress Bar */}\r\n                                        <div className=\"mt-1 w-full bg-slate-800 h-2 rounded-full overflow-hidden\">\r\n                                            <div\r\n                                                className={`h-full ${isCritical ? 'bg-red-500' : 'bg-yellow-500'}`}\r\n                                                style={{ width: `${Math.min(100, achieved)}%` }}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"flex justify-between text-[10px] mt-1\">\r\n                                            <span className={isCritical ? 'text-red-400 font-bold' : 'text-slate-400'}>{achieved}% Logrado</span>\r\n                                            <span className=\"text-slate-500\">Meta: {expectedProgress}%</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-2 gap-2 text-xs text-slate-400 mb-4 bg-black/20 p-2 rounded-lg\">\r\n                                    <div className=\"col-span-2 border-b border-white/5 pb-1 mb-1 flex justify-between\">\r\n                                        <span className=\"uppercase text-[10px] font-bold\">Tendencia Hoy (vs Mes Pasado)</span>\r\n                                        <span className={`${dailyTrend < 0 ? 'text-red-400' : 'text-green-400'} font-black`}>\r\n                                            {dailyTrend > 0 ? '+' : ''}{dailyTrend}%\r\n                                        </span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"block text-slate-600 uppercase text-[10px]\">Total Mes</span>\r\n                                        <span className=\"text-white font-mono\">{creator.diamonds.toLocaleString()} 💎</span>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span className=\"block text-slate-600 uppercase text-[10px]\">Horas</span>\r\n                                        <span className={`${creator.liveHours < 10 ? 'text-red-400' : 'text-white'} font-mono`}>{creator.liveHours.toFixed(1)}h</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button\r\n                                    onClick={() => handleGenerateMessage(creator)}\r\n                                    className={`w-full py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${isSelected\r\n                                        ? 'bg-green-600 text-white shadow-[0_0_15px_rgba(22,163,74,0.5)]'\r\n                                        : 'bg-red-900/30 hover:bg-red-600 text-red-200 hover:text-white border border-red-800 hover:border-red-500'\r\n                                        }`}\r\n                                >\r\n                                    {isSelected ? (\r\n                                        <>¡Copiado! <Copy className=\"w-4 h-4\" /></>\r\n                                    ) : (\r\n                                        <>Generar Mensaje <MessageCircle className=\"w-4 h-4\" /></>\r\n                                    )}\r\n                                </button>\r\n\r\n                                {isSelected && (\r\n                                    <motion.div\r\n                                        initial={{ height: 0, opacity: 0 }}\r\n                                        animate={{ height: 'auto', opacity: 1 }}\r\n                                        className=\"mt-3 text-[11px] text-slate-300 bg-black/40 p-2 rounded border border-green-900/50 italic leading-tight\"\r\n                                    >\r\n                                        \"{selectedMessage.text}\"\r\n                                    </motion.div>\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </motion.div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5535, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/KpiDetailModal.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { X, Diamond, Clock, Zap, AlertTriangle, Users, TrendingUp, TrendingDown, Minus, Search, ArrowUpDown, ArrowUp, ArrowDown, Sparkles } from 'lucide-react';\r\nimport { Creator } from '@/types';\r\nimport { useState, useMemo } from 'react';\r\n\r\nexport type KpiCategory = 'total' | 'inactive' | 'regular' | 'super' | 'diamonds' | 'potential' | 'at_risk' | 'total_diamonds' | 'total_hours' | 'active_creators' | 'regulars';\r\n\r\ninterface KpiDetailModalProps {\r\n    category: KpiCategory;\r\n    creators: Creator[];\r\n    onClose: () => void;\r\n    top3?: Creator[];\r\n    atRisk?: Creator[];\r\n}\r\n\r\n/**\r\n * Smart category logic based on the current day of the month.\r\n * Super: >= 60% of days worked\r\n * Regular: >= 20% and < 60%\r\n * Inactive: < 20%\r\n */\r\nexport function getCreatorCategory(creator: Creator): 'super' | 'regular' | 'inactive' {\r\n    const dayOfMonth = new Date().getDate();\r\n    if (dayOfMonth === 0 || creator.validDays === 0) return 'inactive';\r\n    const ratio = creator.validDays / dayOfMonth;\r\n    if (ratio >= 0.60) return 'super';\r\n    if (ratio >= 0.20) return 'regular';\r\n    return 'inactive';\r\n}\r\n\r\n/**\r\n * \"Potenciales Dormidos\": creators who CAN earn (diamonds > 50K or good last month)\r\n * but are underperforming on activity (validDays or liveHours is low).\r\n */\r\nexport function isPotential(creator: Creator): boolean {\r\n    const dayOfMonth = new Date().getDate();\r\n    const ratio = dayOfMonth > 0 ? creator.validDays / dayOfMonth : 0;\r\n    const hasEarningPower = creator.diamonds > 50000 || creator.lastMonthDiamonds > 50000;\r\n    const isUnderperforming = ratio < 0.60 || creator.liveHours < 20;\r\n    return hasEarningPower && isUnderperforming;\r\n}\r\n\r\ntype SortField = 'diamonds' | 'validDays' | 'liveHours' | 'trend';\r\ntype SortDir = 'desc' | 'asc';\r\n\r\nconst CATEGORY_CONFIG: Record<KpiCategory, {\r\n    title: string;\r\n    subtitle: string;\r\n    icon: React.ReactNode;\r\n    color: string;\r\n    borderColor: string;\r\n    bgColor: string;\r\n    filter: (c: Creator) => boolean;\r\n    defaultSort: SortField;\r\n}> = {\r\n    // ... existing ...\r\n    regulars: {\r\n        title: 'Creadores Regulares',\r\n        subtitle: 'Constantes pero con potencial de crecimiento',\r\n        icon: <Users className=\"w-5 h-5\" />,\r\n        color: 'text-indigo-400',\r\n        borderColor: 'border-indigo-500/30',\r\n        bgColor: 'bg-indigo-500/10',\r\n        filter: () => true, // Handled in component\r\n        defaultSort: 'diamonds',\r\n    },\r\n    total: {\r\n        title: 'Todos los Creadores',\r\n        subtitle: 'Base completa de la agencia',\r\n        icon: <Users className=\"w-5 h-5\" />,\r\n        color: 'text-blue-400',\r\n        borderColor: 'border-blue-500/30',\r\n        bgColor: 'bg-blue-500/10',\r\n        filter: () => true,\r\n        defaultSort: 'diamonds',\r\n    },\r\n    // ... rest ...\r\n    // New Categories mapping to existing logic or new filters\r\n    total_diamonds: {\r\n        title: 'Todos los Creadores',\r\n        subtitle: 'Vista general de diamantes',\r\n        icon: <Diamond className=\"w-5 h-5\" />,\r\n        color: 'text-blue-400',\r\n        borderColor: 'border-blue-500/30',\r\n        bgColor: 'bg-blue-500/10',\r\n        filter: () => true,\r\n        defaultSort: 'diamonds',\r\n    },\r\n    total_hours: {\r\n        title: 'Ranking de Horas',\r\n        subtitle: 'Creadores ordenados por horas transmitidas',\r\n        icon: <Clock className=\"w-5 h-5\" />,\r\n        color: 'text-purple-400',\r\n        borderColor: 'border-purple-500/30',\r\n        bgColor: 'bg-purple-500/10',\r\n        filter: () => true,\r\n        defaultSort: 'liveHours',\r\n    },\r\n    active_creators: {\r\n        title: 'Creadores Activos',\r\n        subtitle: 'Han transmitido al menos 1 día este mes',\r\n        icon: <Users className=\"w-5 h-5\" />,\r\n        color: 'text-emerald-400',\r\n        borderColor: 'border-emerald-500/30',\r\n        bgColor: 'bg-emerald-500/10',\r\n        filter: (c) => c.validDays > 0,\r\n        defaultSort: 'validDays',\r\n    },\r\n    inactive: {\r\n        title: 'Creadores Inactivos',\r\n        subtitle: 'Trabajan menos del 20% de los días del mes',\r\n        icon: <AlertTriangle className=\"w-5 h-5\" />,\r\n        color: 'text-red-400',\r\n        borderColor: 'border-red-500/30',\r\n        bgColor: 'bg-red-500/10',\r\n        filter: (c) => getCreatorCategory(c) === 'inactive',\r\n        defaultSort: 'diamonds',\r\n    },\r\n    at_risk: {\r\n        title: 'Creadores en Riesgo',\r\n        subtitle: 'Rendimiento crítico bajo',\r\n        icon: <AlertTriangle className=\"w-5 h-5\" />,\r\n        color: 'text-red-500',\r\n        borderColor: 'border-red-600/30',\r\n        bgColor: 'bg-red-600/10',\r\n        // Simple filter for risk, or reuse logic\r\n        filter: (c) => getCreatorCategory(c) === 'inactive' || (c.diamondsGrowth !== undefined && c.diamondsGrowth < 0),\r\n        defaultSort: 'trend',\r\n    },\r\n    regular: {\r\n        title: 'Creadores Regulares',\r\n        subtitle: 'Trabajan entre el 20% y 60% de los días del mes',\r\n        icon: <Clock className=\"w-5 h-5\" />,\r\n        color: 'text-yellow-400',\r\n        borderColor: 'border-yellow-500/30',\r\n        bgColor: 'bg-yellow-500/10',\r\n        filter: (c) => getCreatorCategory(c) === 'regular',\r\n        defaultSort: 'diamonds',\r\n    },\r\n    super: {\r\n        title: 'Super Trabajadores',\r\n        subtitle: 'Trabajan el 60% o más de los días del mes',\r\n        icon: <Zap className=\"w-5 h-5\" />,\r\n        color: 'text-purple-400',\r\n        borderColor: 'border-purple-500/30',\r\n        bgColor: 'bg-purple-500/10',\r\n        filter: (c) => getCreatorCategory(c) === 'super',\r\n        defaultSort: 'diamonds',\r\n    },\r\n    diamonds: {\r\n        title: 'Top Generadores de Diamantes',\r\n        subtitle: 'Creadores ordenados por diamantes generados',\r\n        icon: <Diamond className=\"w-5 h-5\" />,\r\n        color: 'text-cyan-400',\r\n        borderColor: 'border-cyan-500/30',\r\n        bgColor: 'bg-cyan-500/10',\r\n        filter: (c) => c.diamonds > 0,\r\n        defaultSort: 'diamonds',\r\n    },\r\n    potential: {\r\n        title: 'Potenciales Dormidos',\r\n        subtitle: 'Ganan bien pero trabajan poco — máxima oportunidad',\r\n        icon: <Sparkles className=\"w-5 h-5\" />,\r\n        color: 'text-orange-400',\r\n        borderColor: 'border-orange-500/30',\r\n        bgColor: 'bg-orange-500/10',\r\n        filter: isPotential,\r\n        defaultSort: 'diamonds',\r\n    },\r\n};\r\n\r\nconst SORT_OPTIONS: { field: SortField; label: string }[] = [\r\n    { field: 'diamonds', label: '💎 Diamantes' },\r\n    { field: 'validDays', label: '📅 Días' },\r\n    { field: 'liveHours', label: '⏱ Horas' },\r\n    { field: 'trend', label: '📈 Tendencia' },\r\n];\r\n\r\nfunction sortCreators(creators: Creator[], field: SortField, dir: SortDir): Creator[] {\r\n    return [...creators].sort((a, b) => {\r\n        let va = 0, vb = 0;\r\n        if (field === 'diamonds') { va = a.diamonds; vb = b.diamonds; }\r\n        else if (field === 'validDays') { va = a.validDays; vb = b.validDays; }\r\n        else if (field === 'liveHours') { va = a.liveHours; vb = b.liveHours; }\r\n        else if (field === 'trend') {\r\n            va = a.diamondsDailyTrend ?? a.diamondsGrowth ?? 0;\r\n            vb = b.diamondsDailyTrend ?? b.diamondsGrowth ?? 0;\r\n        }\r\n        return dir === 'desc' ? vb - va : va - vb;\r\n    });\r\n}\r\n\r\nfunction TrendBadge({ value }: { value: number | undefined }) {\r\n    if (value === undefined) return <span className=\"flex items-center gap-0.5 text-xs text-slate-500\"><Minus className=\"w-3 h-3\" />-</span>;\r\n    if (value > 0.05) return (\r\n        <span className=\"flex items-center gap-0.5 text-xs text-emerald-400 font-bold\">\r\n            <TrendingUp className=\"w-3 h-3\" />+{Math.round(value * 100)}%\r\n        </span>\r\n    );\r\n    if (value < -0.05) return (\r\n        <span className=\"flex items-center gap-0.5 text-xs text-red-400 font-bold\">\r\n            <TrendingDown className=\"w-3 h-3\" />{Math.round(value * 100)}%\r\n        </span>\r\n    );\r\n    return (\r\n        <span className=\"flex items-center gap-0.5 text-xs text-slate-500\">\r\n            <Minus className=\"w-3 h-3\" />Estable\r\n        </span>\r\n    );\r\n}\r\n\r\nfunction CategoryBadge({ creator }: { creator: Creator }) {\r\n    const cat = getCreatorCategory(creator);\r\n    const dayOfMonth = new Date().getDate();\r\n    const ratio = dayOfMonth > 0 ? Math.round((creator.validDays / dayOfMonth) * 100) : 0;\r\n    if (cat === 'super') return (\r\n        <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-purple-500/20 text-purple-400 border border-purple-500/30\">⚡ Super · {ratio}%</span>\r\n    );\r\n    if (cat === 'regular') return (\r\n        <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-yellow-500/20 text-yellow-400 border border-yellow-500/30\">🕐 Regular · {ratio}%</span>\r\n    );\r\n    return (\r\n        <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-red-500/20 text-red-400 border border-red-500/30\">⚠ Inactivo · {ratio}%</span>\r\n    );\r\n}\r\n\r\nfunction CreatorAvatar({ creator }: { creator: Creator }) {\r\n    const safeUsername = creator.username.replace(/[^a-zA-Z0-9_.]/g, '');\r\n    const localPhoto = `/foto_perfil/${safeUsername}.jpg`;\r\n    const [imgSrc, setImgSrc] = useState(creator.avatar || localPhoto);\r\n    const [failed, setFailed] = useState(false);\r\n\r\n    if (failed) {\r\n        return (\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-slate-700 to-slate-600 flex items-center justify-center text-white text-sm font-black border border-slate-600 shrink-0\">\r\n                {creator.username.charAt(0).toUpperCase()}\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <img\r\n            src={imgSrc}\r\n            alt={creator.username}\r\n            className=\"w-10 h-10 rounded-full object-cover border border-slate-600 shrink-0\"\r\n            onError={() => {\r\n                if (imgSrc !== localPhoto) {\r\n                    setImgSrc(localPhoto);\r\n                } else {\r\n                    setFailed(true);\r\n                }\r\n            }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function KpiDetailModal({ category, creators, onClose, top3 = [], atRisk = [] }: KpiDetailModalProps) {\r\n    const config = CATEGORY_CONFIG[category];\r\n    const [search, setSearch] = useState('');\r\n    const [sortField, setSortField] = useState<SortField>(config.defaultSort);\r\n    const [sortDir, setSortDir] = useState<SortDir>('desc');\r\n    const dayOfMonth = new Date().getDate();\r\n\r\n    const handleSort = (field: SortField) => {\r\n        if (field === sortField) setSortDir(d => d === 'desc' ? 'asc' : 'desc');\r\n        else { setSortField(field); setSortDir('desc'); }\r\n    };\r\n\r\n    const filtered = useMemo(() => {\r\n        let base: Creator[] = [];\r\n\r\n        if (category === 'regulars') {\r\n            // Regulares = Active (validDays > 0) AND NOT (Top3 OR Potential)\r\n            base = creators.filter(c => {\r\n                const isActive = c.validDays > 0;\r\n                if (!isActive) return false;\r\n\r\n                // Check if in Top 3\r\n                const isTop = top3.some(t => t.creatorId === c.creatorId);\r\n\r\n                // Check if Potential\r\n                const isPot = isPotential(c);\r\n\r\n                return !isTop && !isPot;\r\n            });\r\n        } else {\r\n            base = config ? creators.filter(config.filter) : [];\r\n        }\r\n\r\n        const searched = base.filter(c => c.username.toLowerCase().includes(search.toLowerCase()));\r\n        return sortCreators(searched, sortField, sortDir);\r\n    }, [creators, config, search, sortField, sortDir, category, top3]);\r\n\r\n    const totalDiamonds = filtered.reduce((s, c) => s + c.diamonds, 0);\r\n    const totalHours = filtered.reduce((s, c) => s + c.liveHours, 0);\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm\"\r\n            onClick={onClose}\r\n        >\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.92, y: 20 }}\r\n                animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                exit={{ opacity: 0, scale: 0.92, y: 20 }}\r\n                transition={{ type: 'spring', stiffness: 300, damping: 30 }}\r\n                className={`relative w-full max-w-2xl max-h-[90vh] flex flex-col bg-slate-900 border ${config.borderColor} rounded-2xl shadow-2xl overflow-hidden`}\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                {/* Header */}\r\n                <div className={`flex items-center justify-between p-5 border-b border-slate-800 ${config.bgColor}`}>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className={`p-2 rounded-xl bg-slate-800 ${config.color}`}>{config.icon}</div>\r\n                        <div>\r\n                            <h2 className={`text-lg font-bold ${config.color}`}>{config.title}</h2>\r\n                            <p className=\"text-xs text-slate-400\">{config.subtitle}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-right\">\r\n                            <p className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Creadores</p>\r\n                            <p className={`text-xl font-black font-mono ${config.color}`}>{filtered.length}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            <p className=\"text-[10px] text-slate-500 uppercase tracking-wider\">Diamantes</p>\r\n                            <p className=\"text-xl font-black font-mono text-cyan-400\">\r\n                                {totalDiamonds >= 1000000 ? `${(totalDiamonds / 1000000).toFixed(2)}M` : `${(totalDiamonds / 1000).toFixed(1)}K`}\r\n                            </p>\r\n                        </div>\r\n                        <button onClick={onClose} className=\"p-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white transition-colors\">\r\n                            <X className=\"w-5 h-5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Context bar */}\r\n                <div className=\"px-5 py-2 bg-slate-800/40 border-b border-slate-800 flex items-center gap-3 text-xs text-slate-500 flex-wrap\">\r\n                    <span>📅 Día <strong className=\"text-white\">{dayOfMonth}</strong></span>\r\n                    <span>·</span>\r\n                    <span>⚡ Super ≥{Math.ceil(dayOfMonth * 0.6)} días</span>\r\n                    <span>·</span>\r\n                    <span>🕐 Regular {Math.ceil(dayOfMonth * 0.2)}–{Math.ceil(dayOfMonth * 0.6) - 1} días</span>\r\n                    <span>·</span>\r\n                    <span>⏱ {totalHours.toFixed(0)}h LIVE total</span>\r\n                </div>\r\n\r\n                {/* Search + Sort */}\r\n                <div className=\"px-4 py-3 border-b border-slate-800 space-y-2\">\r\n                    <div className=\"relative\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500\" />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Buscar creador...\"\r\n                            value={search}\r\n                            onChange={e => setSearch(e.target.value)}\r\n                            className=\"w-full bg-slate-800 border border-slate-700 rounded-xl pl-9 pr-4 py-2 text-sm text-white placeholder-slate-500 focus:outline-none focus:border-slate-500 transition-colors\"\r\n                        />\r\n                    </div>\r\n                    {/* Sort buttons */}\r\n                    <div className=\"flex items-center gap-1.5 flex-wrap\">\r\n                        <span className=\"text-[10px] text-slate-600 uppercase font-bold mr-1\">Ordenar:</span>\r\n                        {SORT_OPTIONS.map(opt => {\r\n                            const active = sortField === opt.field;\r\n                            return (\r\n                                <button\r\n                                    key={opt.field}\r\n                                    onClick={() => handleSort(opt.field)}\r\n                                    className={`flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-bold transition-all ${active\r\n                                        ? `${config.color} bg-slate-700 border border-slate-600`\r\n                                        : 'text-slate-500 bg-slate-800/50 border border-transparent hover:border-slate-700 hover:text-slate-300'\r\n                                        }`}\r\n                                >\r\n                                    {opt.label}\r\n                                    {active ? (sortDir === 'desc' ? <ArrowDown className=\"w-3 h-3\" /> : <ArrowUp className=\"w-3 h-3\" />) : <ArrowUpDown className=\"w-3 h-3 opacity-40\" />}\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Creator List */}\r\n                <div className=\"flex-1 overflow-y-auto p-3 space-y-1.5 custom-scrollbar\">\r\n                    {filtered.length === 0 ? (\r\n                        <div className=\"flex flex-col items-center justify-center py-16 text-slate-500\">\r\n                            <Users className=\"w-10 h-10 mb-3 opacity-30\" />\r\n                            <p className=\"text-sm\">No hay creadores en esta categoría</p>\r\n                        </div>\r\n                    ) : (\r\n                        filtered.map((creator, idx) => (\r\n                            <motion.div\r\n                                key={creator.creatorId}\r\n                                initial={{ opacity: 0, x: -10 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                transition={{ delay: Math.min(idx * 0.012, 0.25), duration: 0.18 }}\r\n                                className=\"flex items-center gap-3 p-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700 group\"\r\n                            >\r\n                                <span className=\"text-xs font-bold text-slate-600 w-6 text-right shrink-0\">#{idx + 1}</span>\r\n                                <CreatorAvatar creator={creator} />\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"text-sm font-semibold text-white truncate\">{creator.username}</p>\r\n                                    <div className=\"flex items-center gap-2 mt-0.5 flex-wrap\">\r\n                                        <span className=\"text-xs text-slate-500\">{creator.validDays} días válidos</span>\r\n                                        <CategoryBadge creator={creator} />\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-4 shrink-0\">\r\n                                    <div className=\"text-right hidden sm:block\">\r\n                                        <p className=\"text-xs text-slate-500\">Horas LIVE</p>\r\n                                        <p className=\"text-sm font-bold text-slate-300\">{creator.liveHours.toFixed(1)}h</p>\r\n                                    </div>\r\n                                    <div className=\"text-right\">\r\n                                        <p className=\"text-xs text-slate-500\">Diamantes</p>\r\n                                        <p className=\"text-sm font-bold text-cyan-400 font-mono\">\r\n                                            {creator.diamonds >= 1000000 ? `${(creator.diamonds / 1000000).toFixed(2)}M`\r\n                                                : creator.diamonds >= 1000 ? `${(creator.diamonds / 1000).toFixed(1)}K`\r\n                                                    : creator.diamonds.toLocaleString()}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"text-right w-16\">\r\n                                        <p className=\"text-xs text-slate-500\">Tendencia</p>\r\n                                        <TrendBadge value={creator.diamondsDailyTrend ?? creator.diamondsGrowth} />\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div className=\"px-5 py-3 border-t border-slate-800 bg-slate-900/80 flex items-center justify-between\">\r\n                    <p className=\"text-xs text-slate-500\">\r\n                        <span className=\"text-white font-bold\">{filtered.length}</span> creadores · ordenado por <span className=\"text-white\">{SORT_OPTIONS.find(o => o.field === sortField)?.label}</span> {sortDir === 'desc' ? '↓' : '↑'}\r\n                    </p>\r\n                    <p className=\"text-xs text-slate-500\">Lógica: % días vs día {dayOfMonth}</p>\r\n                </div>\r\n            </motion.div>\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6605, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eiderflw/Desktop/API%20DIAN/EXCEL/nexus-dashboard/components/TasksModule.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useMemo } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Creator } from '@/types';\r\nimport { getCreatorCategory, isPotential } from './KpiDetailModal';\r\nimport { TrendingUp, Zap, Star, AlertTriangle, Target, Users, Diamond, Clock, Lightbulb, ChevronRight } from 'lucide-react';\r\n\r\ninterface Props {\r\n    creators: Creator[];\r\n}\r\n\r\n// ─── Helpers ────────────────────────────────────────────────────────────────\r\n\r\nfunction fmt(n: number): string {\r\n    if (n >= 1_000_000) return `${(n / 1_000_000).toFixed(2)}M`;\r\n    if (n >= 1_000) return `${(n / 1_000).toFixed(1)}K`;\r\n    return n.toLocaleString();\r\n}\r\n\r\nfunction ProgressBar({ value, max, color = 'bg-cyan-500', showPct = true }: { value: number; max: number; color?: string; showPct?: boolean }) {\r\n    const pct = Math.min((value / max) * 100, 100);\r\n    return (\r\n        <div className=\"relative h-2 bg-slate-800 rounded-full overflow-hidden\">\r\n            <motion.div\r\n                className={`h-full rounded-full ${color}`}\r\n                initial={{ width: 0 }}\r\n                animate={{ width: `${pct}%` }}\r\n                transition={{ duration: 0.8, ease: 'easeOut' }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SectionHeader({ icon, title, subtitle, badge }: { icon: React.ReactNode; title: string; subtitle: string; badge?: string }) {\r\n    return (\r\n        <div className=\"flex items-start gap-3 mb-4\">\r\n            <div className=\"p-2.5 rounded-xl bg-slate-800 shrink-0\">{icon}</div>\r\n            <div className=\"flex-1\">\r\n                <div className=\"flex items-center gap-2 flex-wrap\">\r\n                    <h3 className=\"text-base font-black text-white uppercase tracking-wide\">{title}</h3>\r\n                    {badge && <span className=\"text-[10px] font-black px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-400 border border-emerald-500/30\">{badge}</span>}\r\n                </div>\r\n                <p className=\"text-xs text-slate-400 mt-0.5\">{subtitle}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction TipCard({ tip, color = 'border-blue-500/30 bg-blue-500/5' }: { tip: string; color?: string }) {\r\n    return (\r\n        <div className={`flex items-start gap-2 p-3 rounded-xl border ${color}`}>\r\n            <Lightbulb className=\"w-4 h-4 text-yellow-400 shrink-0 mt-0.5\" />\r\n            <p className=\"text-xs text-slate-300 leading-relaxed\">{tip}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ─── Task 1: Diamond Revenue ─────────────────────────────────────────────────\r\n\r\nconst BONUS_LEVELS = [\r\n    { pct: 70, bonus: 2, label: 'Nivel 1' },\r\n    { pct: 80, bonus: 5, label: 'Nivel 2' },\r\n    { pct: 90, bonus: 7, label: 'Nivel 3' },\r\n    { pct: 100, bonus: 9, label: 'Nivel 4' },\r\n    { pct: 110, bonus: 11, label: 'Nivel 5' },\r\n    { pct: 120, bonus: 13, label: 'Nivel 6' },\r\n    { pct: 130, bonus: 15, label: 'Nivel 7' },\r\n];\r\n\r\nfunction Task1({ creators }: { creators: Creator[] }) {\r\n    const totalDiamonds = creators.reduce((s, c) => s + c.diamonds, 0);\r\n    // Reference = sum of last month diamonds (our best estimate of TikTok's target)\r\n    const referenceTarget = creators.reduce((s, c) => s + (c.lastMonthDiamonds || 0), 0) || totalDiamonds * 1.1;\r\n    const fulfillmentPct = referenceTarget > 0 ? (totalDiamonds / referenceTarget) * 100 : 0;\r\n\r\n    const currentLevel = BONUS_LEVELS.slice().reverse().find(l => fulfillmentPct >= l.pct);\r\n    const nextLevel = BONUS_LEVELS.find(l => fulfillmentPct < l.pct);\r\n    const diamondsToNext = nextLevel ? Math.ceil((nextLevel.pct / 100) * referenceTarget) - totalDiamonds : 0;\r\n\r\n    // Estimated bonus $ (using 1 diamond ≈ $0.005 as rough TikTok rate)\r\n    const estimatedRevenue = totalDiamonds * 0.005;\r\n    const bonusRate = currentLevel?.bonus ?? 0;\r\n    const estimatedBonus = estimatedRevenue * (bonusRate / 100);\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/60 border border-slate-800 rounded-2xl p-5\">\r\n            <SectionHeader\r\n                icon={<TrendingUp className=\"w-5 h-5 text-cyan-400\" />}\r\n                title=\"Tarea 1 — Incremento de Ingresos\"\r\n                subtitle=\"Cuanto mayor sea la tasa de cumplimiento, mayor el bono\"\r\n                badge={currentLevel ? `${currentLevel.label} · ${currentLevel.bonus}% bono` : 'Sin nivel aún'}\r\n            />\r\n\r\n            {/* Progress */}\r\n            <div className=\"space-y-2 mb-4\">\r\n                <div className=\"flex justify-between text-xs\">\r\n                    <span className=\"text-slate-400\">Cumplimiento: <strong className=\"text-white\">{fulfillmentPct.toFixed(1)}%</strong></span>\r\n                    <span className=\"text-slate-400\">Meta ref: <strong className=\"text-white\">{fmt(referenceTarget)}</strong> 💎</span>\r\n                </div>\r\n                <ProgressBar value={fulfillmentPct} max={130} color={fulfillmentPct >= 100 ? 'bg-emerald-500' : fulfillmentPct >= 70 ? 'bg-cyan-500' : 'bg-red-500'} />\r\n                <div className=\"flex justify-between text-[10px] text-slate-600\">\r\n                    {BONUS_LEVELS.map(l => (\r\n                        <span key={l.pct} className={fulfillmentPct >= l.pct ? 'text-emerald-400 font-bold' : ''}>{l.pct}%</span>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Stats row */}\r\n            <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Diamantes</p>\r\n                    <p className=\"text-lg font-black text-cyan-400 font-mono\">{fmt(totalDiamonds)}</p>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Bono Actual</p>\r\n                    <p className=\"text-lg font-black text-emerald-400\">{bonusRate}%</p>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Para siguiente</p>\r\n                    <p className=\"text-lg font-black text-orange-400 font-mono\">{nextLevel ? `+${fmt(diamondsToNext)}` : '✅ Máx'}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tips */}\r\n            <div className=\"space-y-2\">\r\n                {fulfillmentPct < 70 && (\r\n                    <TipCard color=\"border-red-500/30 bg-red-500/5\" tip={`⚠️ Estás por debajo del 70%. Activa a tus ${creators.filter(c => getCreatorCategory(c) === 'inactive').length} creadores inactivos — incluso 1h diaria de cada uno puede mover la aguja.`} />\r\n                )}\r\n                {fulfillmentPct >= 70 && fulfillmentPct < 100 && nextLevel && (\r\n                    <TipCard color=\"border-yellow-500/30 bg-yellow-500/5\" tip={`🎯 Te faltan ${fmt(diamondsToNext)} diamantes para el ${nextLevel.label} (${nextLevel.bonus}% bono). Enfócate en tus Potenciales Dormidos — ya saben generar, solo necesitan más horas.`} />\r\n                )}\r\n                {fulfillmentPct >= 100 && (\r\n                    <TipCard color=\"border-emerald-500/30 bg-emerald-500/5\" tip={`🏆 ¡Superaste el 100%! Sigue empujando hacia el 130% para maximizar el bono al 15%. Cada diamante extra vale más ahora.`} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ─── Task 2: Beginner Bonus ──────────────────────────────────────────────────\r\n\r\nconst BEGINNER_MILESTONES = [\r\n    { id: 'M0.5', diamonds: 100_000, bonus: 200, label: 'M0.5' },\r\n    { id: 'M1R', diamonds: 200_000, bonus: 320, label: 'M1R' },\r\n    { id: 'M1', diamonds: 200_000, bonus: 400, label: 'M1' },\r\n    { id: 'M2', diamonds: 500_000, bonus: 1000, label: 'M2' },\r\n];\r\n\r\nfunction Task2({ creators }: { creators: Creator[] }) {\r\n    const beginners = creators.filter(c =>\r\n        c.graduationStatus?.toLowerCase().includes('principiante') ||\r\n        c.graduationStatus?.toLowerCase().includes('beginner')\r\n    );\r\n\r\n    const qualifying = beginners.filter(c => c.validDays >= 7 && c.liveHours >= 15);\r\n    const almostQualifying = beginners.filter(c => !qualifying.includes(c) && (c.validDays >= 4 || c.liveHours >= 8));\r\n\r\n    // Map each qualifying beginner to their milestone\r\n    const milestoneMap = BEGINNER_MILESTONES.reduce((acc, m) => {\r\n        acc[m.id] = qualifying.filter(c => c.diamonds >= m.diamonds);\r\n        return acc;\r\n    }, {} as Record<string, Creator[]>);\r\n\r\n    const totalBonusEarned = qualifying.reduce((sum, c) => {\r\n        const m = BEGINNER_MILESTONES.slice().reverse().find(m => c.diamonds >= m.diamonds);\r\n        return sum + (m?.bonus ?? 0);\r\n    }, 0);\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/60 border border-slate-800 rounded-2xl p-5\">\r\n            <SectionHeader\r\n                icon={<Star className=\"w-5 h-5 text-yellow-400\" />}\r\n                title=\"Tarea 2 — Bonus Principiantes\"\r\n                subtitle=\"Principiantes con ≥7 días válidos y ≥15h LIVE\"\r\n                badge={`$${totalBonusEarned.toLocaleString()} ganados`}\r\n            />\r\n\r\n            {/* Milestone grid */}\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4\">\r\n                {BEGINNER_MILESTONES.map(m => {\r\n                    const count = milestoneMap[m.id]?.length ?? 0;\r\n                    return (\r\n                        <div key={m.id} className={`rounded-xl p-3 text-center border ${count > 0 ? 'bg-yellow-500/10 border-yellow-500/30' : 'bg-slate-800/50 border-slate-700/50'}`}>\r\n                            <p className={`text-xs font-black mb-1 ${count > 0 ? 'text-yellow-400' : 'text-slate-500'}`}>{m.label}</p>\r\n                            <p className={`text-xl font-black font-mono ${count > 0 ? 'text-white' : 'text-slate-600'}`}>{count}</p>\r\n                            <p className=\"text-[10px] text-slate-500 mt-1\">${m.bonus} c/u</p>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Stats */}\r\n            <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Principiantes</p>\r\n                    <p className=\"text-lg font-black text-white\">{beginners.length}</p>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Califican</p>\r\n                    <p className=\"text-lg font-black text-emerald-400\">{qualifying.length}</p>\r\n                </div>\r\n                <div className=\"bg-slate-800/50 rounded-xl p-3 text-center\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase mb-1\">Casi califican</p>\r\n                    <p className=\"text-lg font-black text-orange-400\">{almostQualifying.length}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Near-miss list */}\r\n            {almostQualifying.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase font-bold mb-2\">⚡ Casi califican — actívalos ahora:</p>\r\n                    <div className=\"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar\">\r\n                        {almostQualifying.slice(0, 8).map(c => (\r\n                            <div key={c.creatorId} className=\"flex items-center justify-between px-3 py-1.5 bg-slate-800/50 rounded-lg text-xs\">\r\n                                <span className=\"text-white font-medium truncate max-w-[120px]\">{c.username}</span>\r\n                                <div className=\"flex gap-3 text-slate-400\">\r\n                                    <span className={c.validDays >= 7 ? 'text-emerald-400' : 'text-red-400'}>{c.validDays}d/{7}d</span>\r\n                                    <span className={c.liveHours >= 15 ? 'text-emerald-400' : 'text-red-400'}>{c.liveHours.toFixed(0)}h/{15}h</span>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"space-y-2\">\r\n                <TipCard color=\"border-yellow-500/30 bg-yellow-500/5\" tip={`💡 Cada principiante que llegue a M2 (500K 💎) te da $1,000 extra. Prioriza a los que ya tienen más de 200K — solo necesitan más horas y días.`} />\r\n                {almostQualifying.length > 0 && (\r\n                    <TipCard color=\"border-orange-500/30 bg-orange-500/5\" tip={`🔥 Tienes ${almostQualifying.length} principiantes que casi califican. Escríbeles hoy — con 2-3 días más de LIVE ya entran al programa de bonus.`} />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ─── Task 3: Activity Task ───────────────────────────────────────────────────\r\n\r\nconst ACTIVITY_LEVELS = [\r\n    { level: 1, diamonds: 200_000, days: 12, hours: 25, bonusPct: 2 },\r\n    { level: 2, diamonds: 200_000, days: 15, hours: 40, bonusPct: 3 },\r\n    { level: 3, diamonds: 200_000, days: 20, hours: 60, bonusPct: 4 },\r\n    { level: 4, diamonds: 200_000, days: 20, hours: 80, bonusPct: 5 },\r\n    { level: 5, diamonds: 200_000, days: 22, hours: 100, bonusPct: 6 },\r\n];\r\n\r\nfunction Task3({ creators }: { creators: Creator[] }) {\r\n    const levelCounts = ACTIVITY_LEVELS.map(l => ({\r\n        ...l,\r\n        qualifying: creators.filter(c => c.diamonds >= l.diamonds && c.validDays >= l.days && c.liveHours >= l.hours),\r\n    }));\r\n\r\n    // Near-miss: has 200K diamonds but missing days or hours for level 1\r\n    const nearMiss = creators.filter(c =>\r\n        c.diamonds >= 200_000 &&\r\n        !(c.validDays >= 12 && c.liveHours >= 25) &&\r\n        (c.validDays >= 8 || c.liveHours >= 15)\r\n    );\r\n\r\n    const totalQualifying = levelCounts[0].qualifying.length;\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/60 border border-slate-800 rounded-2xl p-5\">\r\n            <SectionHeader\r\n                icon={<Zap className=\"w-5 h-5 text-purple-400\" />}\r\n                title=\"Tarea 3 — Tarea de Actividad\"\r\n                subtitle=\"Todos los anfitriones · ≥200K 💎 + días + horas\"\r\n                badge={`${totalQualifying} califican`}\r\n            />\r\n\r\n            {/* Level bars */}\r\n            <div className=\"space-y-2.5 mb-4\">\r\n                {levelCounts.map(l => {\r\n                    const maxPossible = creators.filter(c => c.diamonds >= l.diamonds).length;\r\n                    return (\r\n                        <div key={l.level} className=\"space-y-1\">\r\n                            <div className=\"flex items-center justify-between text-xs\">\r\n                                <span className=\"text-slate-400\">\r\n                                    <span className={`font-bold ${l.qualifying.length > 0 ? 'text-purple-400' : 'text-slate-500'}`}>Nivel {l.level}</span>\r\n                                    <span className=\"text-slate-600 ml-2\">≥{l.days}d · ≥{l.hours}h · {l.bonusPct}% bono</span>\r\n                                </span>\r\n                                <span className={`font-black ${l.qualifying.length > 0 ? 'text-white' : 'text-slate-600'}`}>{l.qualifying.length}</span>\r\n                            </div>\r\n                            <ProgressBar\r\n                                value={l.qualifying.length}\r\n                                max={Math.max(maxPossible, 1)}\r\n                                color={l.qualifying.length > 0 ? 'bg-purple-500' : 'bg-slate-700'}\r\n                            />\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n\r\n            {/* Near-miss */}\r\n            {nearMiss.length > 0 && (\r\n                <div className=\"mb-4\">\r\n                    <p className=\"text-[10px] text-slate-500 uppercase font-bold mb-2\">🎯 Tienen 200K+ 💎 pero les faltan días/horas para Nivel 1:</p>\r\n                    <div className=\"space-y-1.5 max-h-36 overflow-y-auto custom-scrollbar\">\r\n                        {nearMiss.slice(0, 10).map(c => {\r\n                            const daysLeft = Math.max(0, 12 - c.validDays);\r\n                            const hoursLeft = Math.max(0, 25 - c.liveHours);\r\n                            return (\r\n                                <div key={c.creatorId} className=\"flex items-center justify-between px-3 py-1.5 bg-slate-800/50 rounded-lg text-xs\">\r\n                                    <span className=\"text-white font-medium truncate max-w-[120px]\">{c.username}</span>\r\n                                    <div className=\"flex gap-3 text-slate-400\">\r\n                                        <span className=\"text-cyan-400 font-mono\">{fmt(c.diamonds)}</span>\r\n                                        {daysLeft > 0 && <span className=\"text-red-400\">-{daysLeft}d</span>}\r\n                                        {hoursLeft > 0 && <span className=\"text-orange-400\">-{hoursLeft.toFixed(0)}h</span>}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"space-y-2\">\r\n                {nearMiss.length > 0 && (\r\n                    <TipCard color=\"border-purple-500/30 bg-purple-500/5\" tip={`🚀 ${nearMiss.length} creadores ya tienen +200K 💎 pero no califican al Nivel 1. Si cada uno agrega 3-4 días más de LIVE, entran al programa y tú ganas el 2% de bono sobre sus diamantes.`} />\r\n                )}\r\n                <TipCard color=\"border-blue-500/30 bg-blue-500/5\" tip={`📊 El Nivel 5 (22 días + 100h) da el 6% de bono. Un creador con 500K 💎 en Nivel 5 te genera ~$150 extra solo en bono de actividad.`} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ─── Segment Advice ──────────────────────────────────────────────────────────\r\n\r\nfunction SegmentAdvice({ creators }: { creators: Creator[] }) {\r\n    const inactive = creators.filter(c => getCreatorCategory(c) === 'inactive');\r\n    const regular = creators.filter(c => getCreatorCategory(c) === 'regular');\r\n    const superW = creators.filter(c => getCreatorCategory(c) === 'super');\r\n    const potential = creators.filter(isPotential);\r\n    const dayOfMonth = new Date().getDate();\r\n    const daysLeft = 28 - dayOfMonth; // Feb 2026\r\n\r\n    const advices = [\r\n        {\r\n            segment: `😴 Inactivos (${inactive.length})`,\r\n            color: 'border-red-500/30 bg-red-500/5',\r\n            icon: <AlertTriangle className=\"w-4 h-4 text-red-400 shrink-0\" />,\r\n            tips: [\r\n                `Quedan ${daysLeft} días del mes. Incluso si se conectan 1h al día, pueden sumar ${daysLeft} días válidos y pasar a \"Regular\".`,\r\n                `Envíales un mensaje de WhatsApp personalizado hoy. Los inactivos suelen responder a mensajes directos mejor que a grupos.`,\r\n                `Ofrece un reto: \"Si te conectas 5 días esta semana, te doy un bono de $X\". El incentivo inmediato funciona mejor que el largo plazo.`,\r\n            ]\r\n        },\r\n        {\r\n            segment: `🕐 Regulares (${regular.length})`,\r\n            color: 'border-yellow-500/30 bg-yellow-500/5',\r\n            icon: <Clock className=\"w-4 h-4 text-yellow-400 shrink-0\" />,\r\n            tips: [\r\n                `Los regulares están a mitad del camino. Si aumentan su frecuencia de 3-4 días/semana a 5, pasan a Super Trabajadores.`,\r\n                `Crea un grupo de \"Reto Semanal\" con ellos — la competencia entre pares aumenta la actividad hasta un 40%.`,\r\n                `Revisa cuáles tienen buena tendencia (+%) — esos ya están creciendo, solo necesitan más consistencia.`,\r\n            ]\r\n        },\r\n        {\r\n            segment: `⚡ Super Trabajadores (${superW.length})`,\r\n            color: 'border-purple-500/30 bg-purple-500/5',\r\n            icon: <Zap className=\"w-4 h-4 text-purple-400 shrink-0\" />,\r\n            tips: [\r\n                `Estos son tu motor. Asegúrate de que estén en camino al Nivel 3+ de la Tarea 3 (≥20 días + ≥60h).`,\r\n                `Dales feedback positivo y visibilidad — los Super Trabajadores se desmotivan si sienten que su esfuerzo no es reconocido.`,\r\n                `Analiza sus horarios de LIVE — si transmiten en horas de bajo tráfico, ayúdalos a cambiar al horario pico de su audiencia.`,\r\n            ]\r\n        },\r\n        {\r\n            segment: `💎 Potenciales Dormidos (${potential.length})`,\r\n            color: 'border-orange-500/30 bg-orange-500/5',\r\n            icon: <Diamond className=\"w-4 h-4 text-orange-400 shrink-0\" />,\r\n            tips: [\r\n                `Estos son tu mayor oportunidad de ROI. Ya saben generar diamantes — solo necesitan más tiempo en vivo.`,\r\n                `Analiza por qué no se conectan más: ¿horario, motivación, técnica? Una llamada de 15 min puede desbloquear semanas de actividad.`,\r\n                `Si un Potencial tiene +100K 💎 con pocas horas, imagina cuánto generaría con el doble de horas. Prioriza su activación sobre los inactivos totales.`,\r\n            ]\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"bg-slate-900/60 border border-slate-800 rounded-2xl p-5\">\r\n            <SectionHeader\r\n                icon={<Lightbulb className=\"w-5 h-5 text-yellow-400\" />}\r\n                title=\"Estrategias por Segmento\"\r\n                subtitle={`Consejos para maximizar ingresos — quedan ${daysLeft} días del mes`}\r\n            />\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {advices.map(a => (\r\n                    <div key={a.segment} className={`border rounded-xl p-4 ${a.color}`}>\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                            {a.icon}\r\n                            <p className=\"text-sm font-black text-white\">{a.segment}</p>\r\n                        </div>\r\n                        <ul className=\"space-y-2\">\r\n                            {a.tips.map((tip, i) => (\r\n                                <li key={i} className=\"flex items-start gap-2 text-xs text-slate-300 leading-relaxed\">\r\n                                    <ChevronRight className=\"w-3 h-3 text-slate-500 shrink-0 mt-0.5\" />\r\n                                    {tip}\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ─── Main Export ─────────────────────────────────────────────────────────────\r\n\r\nexport default function TasksModule({ creators }: Props) {\r\n    if (creators.length === 0) return null;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5 }}\r\n            className=\"space-y-4\"\r\n        >\r\n            {/* Header */}\r\n            <div className=\"flex items-center gap-3 pb-1 border-b border-slate-800\">\r\n                <Target className=\"w-5 h-5 text-nexus-400\" />\r\n                <h2 className=\"text-sm font-black text-white uppercase tracking-widest\">Tareas TikTok · Febrero 2026</h2>\r\n                <span className=\"text-[10px] text-slate-500 ml-auto\">Datos del Excel sincronizado</span>\r\n            </div>\r\n\r\n            {/* 3 Tasks */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n                <Task1 creators={creators} />\r\n                <Task2 creators={creators} />\r\n                <Task3 creators={creators} />\r\n            </div>\r\n\r\n            {/* Segment Advice */}\r\n            <SegmentAdvice creators={creators} />\r\n        </motion.div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;AAYA,+EAA+E;AAE/E,SAAS,IAAI,CAAS;IAClB,IAAI,KAAK,WAAW,OAAO,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IAC3D,IAAI,KAAK,OAAO,OAAO,GAAG,CAAC,IAAI,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;IACnD,OAAO,EAAE,cAAc;AAC3B;AAEA,SAAS,YAAY,EAAE,KAAK,EAAE,GAAG,EAAE,QAAQ,aAAa,EAAE,UAAU,IAAI,EAAqE;IACzI,MAAM,MAAM,KAAK,GAAG,CAAC,AAAC,QAAQ,MAAO,KAAK;IAC1C,qBACI,mNAAC;QAAI,WAAU;kBACX,cAAA,mNAAC,6NAAM,CAAC,GAAG;YACP,WAAW,CAAC,oBAAoB,EAAE,OAAO;YACzC,SAAS;gBAAE,OAAO;YAAE;YACpB,SAAS;gBAAE,OAAO,GAAG,IAAI,CAAC,CAAC;YAAC;YAC5B,YAAY;gBAAE,UAAU;gBAAK,MAAM;YAAU;;;;;;;;;;;AAI7D;KAZS;AAcT,SAAS,cAAc,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAA8E;IAC/H,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBAAI,WAAU;0BAA0C;;;;;;0BACzD,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAG,WAAU;0CAA2D;;;;;;4BACxE,uBAAS,mNAAC;gCAAK,WAAU;0CAAmH;;;;;;;;;;;;kCAEjJ,mNAAC;wBAAE,WAAU;kCAAiC;;;;;;;;;;;;;;;;;;AAI9D;MAbS;AAeT,SAAS,QAAQ,EAAE,GAAG,EAAE,QAAQ,kCAAkC,EAAmC;IACjG,qBACI,mNAAC;QAAI,WAAW,CAAC,6CAA6C,EAAE,OAAO;;0BACnE,mNAAC,kPAAS;gBAAC,WAAU;;;;;;0BACrB,mNAAC;gBAAE,WAAU;0BAA0C;;;;;;;;;;;;AAGnE;MAPS;AAST,gFAAgF;AAEhF,MAAM,eAAe;IACjB;QAAE,KAAK;QAAI,OAAO;QAAG,OAAO;IAAU;IACtC;QAAE,KAAK;QAAI,OAAO;QAAG,OAAO;IAAU;IACtC;QAAE,KAAK;QAAI,OAAO;QAAG,OAAO;IAAU;IACtC;QAAE,KAAK;QAAK,OAAO;QAAG,OAAO;IAAU;IACvC;QAAE,KAAK;QAAK,OAAO;QAAI,OAAO;IAAU;IACxC;QAAE,KAAK;QAAK,OAAO;QAAI,OAAO;IAAU;IACxC;QAAE,KAAK;QAAK,OAAO;QAAI,OAAO;IAAU;CAC3C;AAED,SAAS,MAAM,EAAE,QAAQ,EAA2B;IAChD,MAAM,gBAAgB,SAAS,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,EAAE,QAAQ,EAAE;IAChE,gFAAgF;IAChF,MAAM,kBAAkB,SAAS,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,CAAC,EAAE,iBAAiB,IAAI,CAAC,GAAG,MAAM,gBAAgB;IACxG,MAAM,iBAAiB,kBAAkB,IAAI,AAAC,gBAAgB,kBAAmB,MAAM;IAEvF,MAAM,eAAe,aAAa,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,CAAA,IAAK,kBAAkB,EAAE,GAAG;IACrF,MAAM,YAAY,aAAa,IAAI,CAAC,CAAA,IAAK,iBAAiB,EAAE,GAAG;IAC/D,MAAM,iBAAiB,YAAY,KAAK,IAAI,CAAC,AAAC,UAAU,GAAG,GAAG,MAAO,mBAAmB,gBAAgB;IAExG,oEAAoE;IACpE,MAAM,mBAAmB,gBAAgB;IACzC,MAAM,YAAY,cAAc,SAAS;IACzC,MAAM,iBAAiB,mBAAmB,CAAC,YAAY,GAAG;IAE1D,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBACG,oBAAM,mNAAC,yPAAU;oBAAC,WAAU;;;;;;gBAC5B,OAAM;gBACN,UAAS;gBACT,OAAO,eAAe,GAAG,aAAa,KAAK,CAAC,GAAG,EAAE,aAAa,KAAK,CAAC,MAAM,CAAC,GAAG;;;;;;0BAIlF,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAK,WAAU;;oCAAiB;kDAAc,mNAAC;wCAAO,WAAU;;4CAAc,eAAe,OAAO,CAAC;4CAAG;;;;;;;;;;;;;0CACzG,mNAAC;gCAAK,WAAU;;oCAAiB;kDAAU,mNAAC;wCAAO,WAAU;kDAAc,IAAI;;;;;;oCAA0B;;;;;;;;;;;;;kCAE7G,mNAAC;wBAAY,OAAO;wBAAgB,KAAK;wBAAK,OAAO,kBAAkB,MAAM,mBAAmB,kBAAkB,KAAK,gBAAgB;;;;;;kCACvI,mNAAC;wBAAI,WAAU;kCACV,aAAa,GAAG,CAAC,CAAA,kBACd,mNAAC;gCAAiB,WAAW,kBAAkB,EAAE,GAAG,GAAG,+BAA+B;;oCAAK,EAAE,GAAG;oCAAC;;+BAAtF,EAAE,GAAG;;;;;;;;;;;;;;;;0BAM5B,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;0CAA8C,IAAI;;;;;;;;;;;;kCAEnE,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;;oCAAuC;oCAAU;;;;;;;;;;;;;kCAElE,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;0CAAgD,YAAY,CAAC,CAAC,EAAE,IAAI,iBAAiB,GAAG;;;;;;;;;;;;;;;;;;0BAK7G,mNAAC;gBAAI,WAAU;;oBACV,iBAAiB,oBACd,mNAAC;wBAAQ,OAAM;wBAAiC,KAAK,CAAC,0CAA0C,EAAE,SAAS,MAAM,CAAC,CAAA,IAAK,IAAA,4KAAkB,EAAC,OAAO,YAAY,MAAM,CAAC,0EAA0E,CAAC;;;;;;oBAElP,kBAAkB,MAAM,iBAAiB,OAAO,2BAC7C,mNAAC;wBAAQ,OAAM;wBAAuC,KAAK,CAAC,aAAa,EAAE,IAAI,gBAAgB,mBAAmB,EAAE,UAAU,KAAK,CAAC,EAAE,EAAE,UAAU,KAAK,CAAC,2FAA2F,CAAC;;;;;;oBAEvP,kBAAkB,qBACf,mNAAC;wBAAQ,OAAM;wBAAyC,KAAK,CAAC,uHAAuH,CAAC;;;;;;;;;;;;;;;;;;AAK1M;MApES;AAsET,gFAAgF;AAEhF,MAAM,sBAAsB;IACxB;QAAE,IAAI;QAAQ,UAAU;QAAS,OAAO;QAAK,OAAO;IAAO;IAC3D;QAAE,IAAI;QAAO,UAAU;QAAS,OAAO;QAAK,OAAO;IAAM;IACzD;QAAE,IAAI;QAAM,UAAU;QAAS,OAAO;QAAK,OAAO;IAAK;IACvD;QAAE,IAAI;QAAM,UAAU;QAAS,OAAO;QAAM,OAAO;IAAK;CAC3D;AAED,SAAS,MAAM,EAAE,QAAQ,EAA2B;IAChD,MAAM,YAAY,SAAS,MAAM,CAAC,CAAA,IAC9B,EAAE,gBAAgB,EAAE,cAAc,SAAS,mBAC3C,EAAE,gBAAgB,EAAE,cAAc,SAAS;IAG/C,MAAM,aAAa,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,SAAS,IAAI,KAAK,EAAE,SAAS,IAAI;IAC5E,MAAM,mBAAmB,UAAU,MAAM,CAAC,CAAA,IAAK,CAAC,WAAW,QAAQ,CAAC,MAAM,CAAC,EAAE,SAAS,IAAI,KAAK,EAAE,SAAS,IAAI,CAAC;IAE/G,kDAAkD;IAClD,MAAM,eAAe,oBAAoB,MAAM,CAAC,CAAC,KAAK;QAClD,GAAG,CAAC,EAAE,EAAE,CAAC,GAAG,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,IAAI,EAAE,QAAQ;QAC3D,OAAO;IACX,GAAG,CAAC;IAEJ,MAAM,mBAAmB,WAAW,MAAM,CAAC,CAAC,KAAK;QAC7C,MAAM,IAAI,oBAAoB,KAAK,GAAG,OAAO,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,QAAQ,IAAI,EAAE,QAAQ;QAClF,OAAO,MAAM,CAAC,GAAG,SAAS,CAAC;IAC/B,GAAG;IAEH,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBACG,oBAAM,mNAAC,mOAAI;oBAAC,WAAU;;;;;;gBACtB,OAAM;gBACN,UAAS;gBACT,OAAO,CAAC,CAAC,EAAE,iBAAiB,cAAc,GAAG,QAAQ,CAAC;;;;;;0BAI1D,mNAAC;gBAAI,WAAU;0BACV,oBAAoB,GAAG,CAAC,CAAA;oBACrB,MAAM,QAAQ,YAAY,CAAC,EAAE,EAAE,CAAC,EAAE,UAAU;oBAC5C,qBACI,mNAAC;wBAAe,WAAW,CAAC,kCAAkC,EAAE,QAAQ,IAAI,0CAA0C,uCAAuC;;0CACzJ,mNAAC;gCAAE,WAAW,CAAC,wBAAwB,EAAE,QAAQ,IAAI,oBAAoB,kBAAkB;0CAAG,EAAE,KAAK;;;;;;0CACrG,mNAAC;gCAAE,WAAW,CAAC,6BAA6B,EAAE,QAAQ,IAAI,eAAe,kBAAkB;0CAAG;;;;;;0CAC9F,mNAAC;gCAAE,WAAU;;oCAAkC;oCAAE,EAAE,KAAK;oCAAC;;;;;;;;uBAHnD,EAAE,EAAE;;;;;gBAMtB;;;;;;0BAIJ,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;0CAAiC,UAAU,MAAM;;;;;;;;;;;;kCAElE,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;0CAAuC,WAAW,MAAM;;;;;;;;;;;;kCAEzE,mNAAC;wBAAI,WAAU;;0CACX,mNAAC;gCAAE,WAAU;0CAA4C;;;;;;0CACzD,mNAAC;gCAAE,WAAU;0CAAsC,iBAAiB,MAAM;;;;;;;;;;;;;;;;;;YAKjF,iBAAiB,MAAM,GAAG,mBACvB,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAE,WAAU;kCAAsD;;;;;;kCACnE,mNAAC;wBAAI,WAAU;kCACV,iBAAiB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAA,kBAC9B,mNAAC;gCAAsB,WAAU;;kDAC7B,mNAAC;wCAAK,WAAU;kDAAiD,EAAE,QAAQ;;;;;;kDAC3E,mNAAC;wCAAI,WAAU;;0DACX,mNAAC;gDAAK,WAAW,EAAE,SAAS,IAAI,IAAI,qBAAqB;;oDAAiB,EAAE,SAAS;oDAAC;oDAAG;oDAAE;;;;;;;0DAC3F,mNAAC;gDAAK,WAAW,EAAE,SAAS,IAAI,KAAK,qBAAqB;;oDAAiB,EAAE,SAAS,CAAC,OAAO,CAAC;oDAAG;oDAAG;oDAAG;;;;;;;;;;;;;;+BAJtG,EAAE,SAAS;;;;;;;;;;;;;;;;0BAYrC,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAQ,OAAM;wBAAuC,KAAK,CAAC,8IAA8I,CAAC;;;;;;oBAC1M,iBAAiB,MAAM,GAAG,mBACvB,mNAAC;wBAAQ,OAAM;wBAAuC,KAAK,CAAC,UAAU,EAAE,iBAAiB,MAAM,CAAC,4GAA4G,CAAC;;;;;;;;;;;;;;;;;;AAKjO;MArFS;AAuFT,gFAAgF;AAEhF,MAAM,kBAAkB;IACpB;QAAE,OAAO;QAAG,UAAU;QAAS,MAAM;QAAI,OAAO;QAAI,UAAU;IAAE;IAChE;QAAE,OAAO;QAAG,UAAU;QAAS,MAAM;QAAI,OAAO;QAAI,UAAU;IAAE;IAChE;QAAE,OAAO;QAAG,UAAU;QAAS,MAAM;QAAI,OAAO;QAAI,UAAU;IAAE;IAChE;QAAE,OAAO;QAAG,UAAU;QAAS,MAAM;QAAI,OAAO;QAAI,UAAU;IAAE;IAChE;QAAE,OAAO;QAAG,UAAU;QAAS,MAAM;QAAI,OAAO;QAAK,UAAU;IAAE;CACpE;AAED,SAAS,MAAM,EAAE,QAAQ,EAA2B;IAChD,MAAM,cAAc,gBAAgB,GAAG,CAAC,CAAA,IAAK,CAAC;YAC1C,GAAG,CAAC;YACJ,YAAY,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,IAAI,EAAE,QAAQ,IAAI,EAAE,SAAS,IAAI,EAAE,IAAI,IAAI,EAAE,SAAS,IAAI,EAAE,KAAK;QAChH,CAAC;IAED,qEAAqE;IACrE,MAAM,WAAW,SAAS,MAAM,CAAC,CAAA,IAC7B,EAAE,QAAQ,IAAI,WACd,CAAC,CAAC,EAAE,SAAS,IAAI,MAAM,EAAE,SAAS,IAAI,EAAE,KACxC,CAAC,EAAE,SAAS,IAAI,KAAK,EAAE,SAAS,IAAI,EAAE;IAG1C,MAAM,kBAAkB,WAAW,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM;IAExD,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBACG,oBAAM,mNAAC,gOAAG;oBAAC,WAAU;;;;;;gBACrB,OAAM;gBACN,UAAS;gBACT,OAAO,GAAG,gBAAgB,UAAU,CAAC;;;;;;0BAIzC,mNAAC;gBAAI,WAAU;0BACV,YAAY,GAAG,CAAC,CAAA;oBACb,MAAM,cAAc,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,IAAI,EAAE,QAAQ,EAAE,MAAM;oBACzE,qBACI,mNAAC;wBAAkB,WAAU;;0CACzB,mNAAC;gCAAI,WAAU;;kDACX,mNAAC;wCAAK,WAAU;;0DACZ,mNAAC;gDAAK,WAAW,CAAC,UAAU,EAAE,EAAE,UAAU,CAAC,MAAM,GAAG,IAAI,oBAAoB,kBAAkB;;oDAAE;oDAAO,EAAE,KAAK;;;;;;;0DAC9G,mNAAC;gDAAK,WAAU;;oDAAsB;oDAAE,EAAE,IAAI;oDAAC;oDAAM,EAAE,KAAK;oDAAC;oDAAK,EAAE,QAAQ;oDAAC;;;;;;;;;;;;;kDAEjF,mNAAC;wCAAK,WAAW,CAAC,WAAW,EAAE,EAAE,UAAU,CAAC,MAAM,GAAG,IAAI,eAAe,kBAAkB;kDAAG,EAAE,UAAU,CAAC,MAAM;;;;;;;;;;;;0CAEpH,mNAAC;gCACG,OAAO,EAAE,UAAU,CAAC,MAAM;gCAC1B,KAAK,KAAK,GAAG,CAAC,aAAa;gCAC3B,OAAO,EAAE,UAAU,CAAC,MAAM,GAAG,IAAI,kBAAkB;;;;;;;uBAXjD,EAAE,KAAK;;;;;gBAezB;;;;;;YAIH,SAAS,MAAM,GAAG,mBACf,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAE,WAAU;kCAAsD;;;;;;kCACnE,mNAAC;wBAAI,WAAU;kCACV,SAAS,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAA;4BACvB,MAAM,WAAW,KAAK,GAAG,CAAC,GAAG,KAAK,EAAE,SAAS;4BAC7C,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,KAAK,EAAE,SAAS;4BAC9C,qBACI,mNAAC;gCAAsB,WAAU;;kDAC7B,mNAAC;wCAAK,WAAU;kDAAiD,EAAE,QAAQ;;;;;;kDAC3E,mNAAC;wCAAI,WAAU;;0DACX,mNAAC;gDAAK,WAAU;0DAA2B,IAAI,EAAE,QAAQ;;;;;;4CACxD,WAAW,mBAAK,mNAAC;gDAAK,WAAU;;oDAAe;oDAAE;oDAAS;;;;;;;4CAC1D,YAAY,mBAAK,mNAAC;gDAAK,WAAU;;oDAAkB;oDAAE,UAAU,OAAO,CAAC;oDAAG;;;;;;;;;;;;;;+BALzE,EAAE,SAAS;;;;;wBAS7B;;;;;;;;;;;;0BAKZ,mNAAC;gBAAI,WAAU;;oBACV,SAAS,MAAM,GAAG,mBACf,mNAAC;wBAAQ,OAAM;wBAAuC,KAAK,CAAC,GAAG,EAAE,SAAS,MAAM,CAAC,qKAAqK,CAAC;;;;;;kCAE3P,mNAAC;wBAAQ,OAAM;wBAAmC,KAAK,CAAC,mIAAmI,CAAC;;;;;;;;;;;;;;;;;;AAI5M;MA9ES;AAgFT,gFAAgF;AAEhF,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACxD,MAAM,WAAW,SAAS,MAAM,CAAC,CAAA,IAAK,IAAA,4KAAkB,EAAC,OAAO;IAChE,MAAM,UAAU,SAAS,MAAM,CAAC,CAAA,IAAK,IAAA,4KAAkB,EAAC,OAAO;IAC/D,MAAM,SAAS,SAAS,MAAM,CAAC,CAAA,IAAK,IAAA,4KAAkB,EAAC,OAAO;IAC9D,MAAM,YAAY,SAAS,MAAM,CAAC,qKAAW;IAC7C,MAAM,aAAa,IAAI,OAAO,OAAO;IACrC,MAAM,WAAW,KAAK,YAAY,WAAW;IAE7C,MAAM,UAAU;QACZ;YACI,SAAS,CAAC,cAAc,EAAE,SAAS,MAAM,CAAC,CAAC,CAAC;YAC5C,OAAO;YACP,oBAAM,mNAAC,kQAAa;gBAAC,WAAU;;;;;;YAC/B,MAAM;gBACF,CAAC,OAAO,EAAE,SAAS,8DAA8D,EAAE,SAAS,kCAAkC,CAAC;gBAC/H,CAAC,yHAAyH,CAAC;gBAC3H,CAAC,oIAAoI,CAAC;aACzI;QACL;QACA;YACI,SAAS,CAAC,cAAc,EAAE,QAAQ,MAAM,CAAC,CAAC,CAAC;YAC3C,OAAO;YACP,oBAAM,mNAAC,sOAAK;gBAAC,WAAU;;;;;;YACvB,MAAM;gBACF,CAAC,qHAAqH,CAAC;gBACvH,CAAC,yGAAyG,CAAC;gBAC3G,CAAC,qGAAqG,CAAC;aAC1G;QACL;QACA;YACI,SAAS,CAAC,sBAAsB,EAAE,OAAO,MAAM,CAAC,CAAC,CAAC;YAClD,OAAO;YACP,oBAAM,mNAAC,gOAAG;gBAAC,WAAU;;;;;;YACrB,MAAM;gBACF,CAAC,iGAAiG,CAAC;gBACnG,CAAC,yHAAyH,CAAC;gBAC3H,CAAC,0HAA0H,CAAC;aAC/H;QACL;QACA;YACI,SAAS,CAAC,yBAAyB,EAAE,UAAU,MAAM,CAAC,CAAC,CAAC;YACxD,OAAO;YACP,oBAAM,mNAAC,4OAAO;gBAAC,WAAU;;;;;;YACzB,MAAM;gBACF,CAAC,sGAAsG,CAAC;gBACxG,CAAC,gIAAgI,CAAC;gBAClI,CAAC,mJAAmJ,CAAC;aACxJ;QACL;KACH;IAED,qBACI,mNAAC;QAAI,WAAU;;0BACX,mNAAC;gBACG,oBAAM,mNAAC,kPAAS;oBAAC,WAAU;;;;;;gBAC3B,OAAM;gBACN,UAAU,CAAC,0CAA0C,EAAE,SAAS,aAAa,CAAC;;;;;;0BAElF,mNAAC;gBAAI,WAAU;0BACV,QAAQ,GAAG,CAAC,CAAA,kBACT,mNAAC;wBAAoB,WAAW,CAAC,sBAAsB,EAAE,EAAE,KAAK,EAAE;;0CAC9D,mNAAC;gCAAI,WAAU;;oCACV,EAAE,IAAI;kDACP,mNAAC;wCAAE,WAAU;kDAAiC,EAAE,OAAO;;;;;;;;;;;;0CAE3D,mNAAC;gCAAG,WAAU;0CACT,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,kBACd,mNAAC;wCAAW,WAAU;;0DAClB,mNAAC,+PAAY;gDAAC,WAAU;;;;;;4CACvB;;uCAFI;;;;;;;;;;;uBAPX,EAAE,OAAO;;;;;;;;;;;;;;;;AAkBvC;MA9ES;AAkFM,SAAS,YAAY,EAAE,QAAQ,EAAS;IACnD,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;IAElC,qBACI,mNAAC,6NAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAGV,mNAAC;gBAAI,WAAU;;kCACX,mNAAC,yOAAM;wBAAC,WAAU;;;;;;kCAClB,mNAAC;wBAAG,WAAU;kCAA0D;;;;;;kCACxE,mNAAC;wBAAK,WAAU;kCAAqC;;;;;;;;;;;;0BAIzD,mNAAC;gBAAI,WAAU;;kCACX,mNAAC;wBAAM,UAAU;;;;;;kCACjB,mNAAC;wBAAM,UAAU;;;;;;kCACjB,mNAAC;wBAAM,UAAU;;;;;;;;;;;;0BAIrB,mNAAC;gBAAc,UAAU;;;;;;;;;;;;AAGrC;MA5BwB"}}]
}